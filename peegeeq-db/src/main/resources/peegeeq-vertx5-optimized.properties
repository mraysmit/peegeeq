# PeeGeeQ Vert.x 5.x Optimized Configuration
# Based on official Vert.x 5.x PostgreSQL performance research and testing
# This configuration provides research-based defaults for high-performance scenarios

# Database Configuration
peegeeq.database.host=localhost
peegeeq.database.port=5432
peegeeq.database.name=peegeeq_optimized
peegeeq.database.username=peegeeq
peegeeq.database.password=peegeeq
peegeeq.database.schema=public
peegeeq.database.ssl.enabled=false

# Connection Pool Configuration - Research-Based Optimized Defaults
# Following Vert.x 5.x performance checklist recommendations
peegeeq.database.pool.max-size=100
peegeeq.database.pool.min-size=20
peegeeq.database.pool.shared=true
peegeeq.database.pool.name=peegeeq-optimized-pool
peegeeq.database.pool.wait-queue-multiplier=10
peegeeq.database.pool.connection-timeout=30000
peegeeq.database.pool.idle-timeout=600000
peegeeq.database.pool.max-lifetime=1800000

# Pipelining Configuration - Maximum Throughput
# Enable/test pipelining (8–32), if you aren't behind a proxy that chokes on it
peegeeq.database.pipelining.enabled=true
peegeeq.database.pipelining.limit=1024

# Event Loop Optimization - Database-Intensive Workloads
# Configure event loop pool size for database-intensive workloads
peegeeq.database.event.loop.size=16
peegeeq.database.worker.pool.size=32

# Verticle Scaling - Deploy multiple instances (≃ cores)
peegeeq.verticle.instances=8

# Performance Monitoring
peegeeq.performance.monitoring.enabled=true
peegeeq.performance.monitoring.interval=10000

# Queue Configuration - Optimized for high throughput
peegeeq.queue.batch-size=100
peegeeq.queue.polling-interval=PT100MS
peegeeq.queue.visibility-timeout=PT30S
peegeeq.queue.max-retries=3
peegeeq.queue.dead-letter.enabled=true

# Health Check Configuration
peegeeq.health.enabled=true
peegeeq.health.check-interval=PT30S

# Metrics Configuration
peegeeq.metrics.enabled=true
peegeeq.metrics.jvm.enabled=true
peegeeq.metrics.reporting-interval=PT10S

# Circuit Breaker Configuration
peegeeq.circuit-breaker.enabled=true
peegeeq.circuit-breaker.failure-threshold=5
peegeeq.circuit-breaker.timeout=PT30S
peegeeq.circuit-breaker.reset-timeout=PT60S

# Migration Configuration
peegeeq.migration.enabled=true
peegeeq.migration.auto-migrate=true
peegeeq.migration.validate-on-migrate=true

# Logging Configuration for Performance Analysis
logging.level.dev.mars.peegeeq.bitemporal=INFO
logging.level.dev.mars.peegeeq.db.performance=INFO
logging.level.io.vertx.pgclient=WARN
logging.level.io.vertx.sqlclient=WARN
