2025-07-15 18:20:18.099 [main] INFO  o.t.utility.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2025-07-15 18:20:18.390 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.NpipeSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2025-07-15 18:20:18.711 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Npipe socket (npipe:////./pipe/docker_engine)
2025-07-15 18:20:18.713 [main] INFO  o.testcontainers.DockerClientFactory - Docker host IP address is localhost
2025-07-15 18:20:18.737 [main] INFO  o.testcontainers.DockerClientFactory - Connected to docker: 
  Server Version: 28.3.0
  API Version: 1.51
  Operating System: Docker Desktop
  Total Memory: 15905 MB
2025-07-15 18:20:18.771 [main] INFO  tc.testcontainers/ryuk:0.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
2025-07-15 18:20:19.076 [main] INFO  tc.testcontainers/ryuk:0.5.1 - Container testcontainers/ryuk:0.5.1 is starting: 74c494dc34908fd2b5cb9ba502084de432359d31be38d91aaf4397ad1f87e0bc
2025-07-15 18:20:19.815 [main] INFO  tc.testcontainers/ryuk:0.5.1 - Container testcontainers/ryuk:0.5.1 started in PT1.0650086S
2025-07-15 18:20:19.829 [main] INFO  o.t.utility.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2025-07-15 18:20:19.829 [main] INFO  o.testcontainers.DockerClientFactory - Checking the system...
2025-07-15 18:20:19.830 [main] INFO  o.testcontainers.DockerClientFactory - ✔︎ Docker server version should be at least 1.6.0
2025-07-15 18:20:19.841 [main] INFO  tc.postgres:15 - Pulling docker image: postgres:15. Please be patient; this may take some time but only needs to be done once.
2025-07-15 18:20:23.943 [docker-java-stream--424423352] INFO  tc.postgres:15 - Starting to pull image
2025-07-15 18:20:23.965 [docker-java-stream--424423352] INFO  tc.postgres:15 - Pulling image layers:  0 pending,  0 downloaded,  0 extracted, (0 bytes/0 bytes)
2025-07-15 18:20:27.403 [docker-java-stream--424423352] INFO  tc.postgres:15 - Pulling image layers: 14 pending,  0 downloaded,  1 extracted, (1 KB/? MB)
2025-07-15 18:20:29.448 [docker-java-stream--424423352] INFO  tc.postgres:15 - Pulling image layers: 13 pending,  1 downloaded,  1 extracted, (2 MB/? MB)
2025-07-15 18:20:32.069 [docker-java-stream--424423352] INFO  tc.postgres:15 - Pulling image layers: 12 pending,  2 downloaded,  1 extracted, (5 MB/? MB)
2025-07-15 18:20:32.231 [docker-java-stream--424423352] INFO  tc.postgres:15 - Pulling image layers: 12 pending,  2 downloaded,  2 extracted, (5 MB/? MB)
2025-07-15 18:20:32.284 [docker-java-stream--424423352] INFO  tc.postgres:15 - Pulling image layers: 12 pending,  2 downloaded,  3 extracted, (5 MB/? MB)
2025-07-15 18:20:34.654 [docker-java-stream--424423352] INFO  tc.postgres:15 - Pulling image layers: 11 pending,  3 downloaded,  3 extracted, (7 MB/? MB)
2025-07-15 18:20:40.328 [docker-java-stream--424423352] INFO  tc.postgres:15 - Pulling image layers: 10 pending,  4 downloaded,  3 extracted, (9 MB/? MB)
2025-07-15 18:20:45.267 [docker-java-stream--424423352] INFO  tc.postgres:15 - Pulling image layers:  9 pending,  5 downloaded,  3 extracted, (14 MB/? MB)
2025-07-15 18:20:45.876 [docker-java-stream--424423352] INFO  tc.postgres:15 - Pulling image layers:  8 pending,  6 downloaded,  3 extracted, (14 MB/? MB)
2025-07-15 18:20:46.266 [docker-java-stream--424423352] INFO  tc.postgres:15 - Pulling image layers:  8 pending,  6 downloaded,  4 extracted, (14 MB/? MB)
2025-07-15 18:20:46.351 [docker-java-stream--424423352] INFO  tc.postgres:15 - Pulling image layers:  8 pending,  6 downloaded,  5 extracted, (14 MB/? MB)
2025-07-15 18:20:46.372 [docker-java-stream--424423352] INFO  tc.postgres:15 - Pulling image layers:  8 pending,  6 downloaded,  6 extracted, (14 MB/? MB)
2025-07-15 18:20:46.393 [docker-java-stream--424423352] INFO  tc.postgres:15 - Pulling image layers:  8 pending,  6 downloaded,  7 extracted, (14 MB/? MB)
2025-07-15 18:20:47.288 [docker-java-stream--424423352] INFO  tc.postgres:15 - Pulling image layers:  7 pending,  7 downloaded,  7 extracted, (14 MB/? MB)
2025-07-15 18:20:47.562 [docker-java-stream--424423352] INFO  tc.postgres:15 - Pulling image layers:  6 pending,  8 downloaded,  7 extracted, (14 MB/? MB)
2025-07-15 18:20:50.080 [docker-java-stream--424423352] INFO  tc.postgres:15 - Pulling image layers:  5 pending,  9 downloaded,  7 extracted, (16 MB/? MB)
2025-07-15 18:20:50.325 [docker-java-stream--424423352] INFO  tc.postgres:15 - Pulling image layers:  4 pending, 10 downloaded,  7 extracted, (17 MB/? MB)
2025-07-15 18:20:53.361 [docker-java-stream--424423352] INFO  tc.postgres:15 - Pulling image layers:  3 pending, 11 downloaded,  7 extracted, (22 MB/? MB)
2025-07-15 18:21:21.930 [docker-java-stream--424423352] INFO  tc.postgres:15 - Pulling image layers:  2 pending, 12 downloaded,  7 extracted, (118 MB/? MB)
2025-07-15 18:21:24.894 [docker-java-stream--424423352] INFO  tc.postgres:15 - Pulling image layers:  2 pending, 12 downloaded,  8 extracted, (119 MB/? MB)
2025-07-15 18:21:24.919 [docker-java-stream--424423352] INFO  tc.postgres:15 - Pulling image layers:  2 pending, 12 downloaded,  9 extracted, (119 MB/? MB)
2025-07-15 18:21:24.938 [docker-java-stream--424423352] INFO  tc.postgres:15 - Pulling image layers:  2 pending, 12 downloaded, 10 extracted, (119 MB/? MB)
2025-07-15 18:21:24.959 [docker-java-stream--424423352] INFO  tc.postgres:15 - Pulling image layers:  2 pending, 12 downloaded, 11 extracted, (119 MB/? MB)
2025-07-15 18:21:24.986 [docker-java-stream--424423352] INFO  tc.postgres:15 - Pulling image layers:  2 pending, 12 downloaded, 12 extracted, (119 MB/? MB)
2025-07-15 18:21:25.009 [docker-java-stream--424423352] INFO  tc.postgres:15 - Pulling image layers:  2 pending, 12 downloaded, 13 extracted, (119 MB/? MB)
2025-07-15 18:21:25.029 [docker-java-stream--424423352] INFO  tc.postgres:15 - Pull complete. 14 layers, pulled in 61s (downloaded 119 MB at 1 MB/s)
2025-07-15 18:21:25.037 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
2025-07-15 18:21:25.281 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: e5aa4bd8f265b387ff7886ade716af0299c37eb7b2db8506240bb7f0c997093f
2025-07-15 18:21:26.418 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT1M6.587021S
2025-07-15 18:21:26.419 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:54070/peegeeq_test?loggerLevel=OFF)
2025-07-15 18:21:26.443 [main] DEBUG d.m.p.db.config.PeeGeeQConfiguration - Loaded properties from: /peegeeq-default.properties
2025-07-15 18:21:26.444 [main] INFO  d.m.p.db.config.PeeGeeQConfiguration - Configuration validation passed
2025-07-15 18:21:26.444 [main] INFO  d.m.p.db.config.PeeGeeQConfiguration - Loaded PeeGeeQ configuration for profile: default
2025-07-15 18:21:26.575 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Initializing PeeGeeQ Manager with profile: default
2025-07-15 18:21:26.583 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-07-15 18:21:26.782 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@6884f0d9
2025-07-15 18:21:26.784 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-07-15 18:21:26.787 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: database
2025-07-15 18:21:26.788 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: outbox-queue
2025-07-15 18:21:26.788 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: native-queue
2025-07-15 18:21:26.789 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: dead-letter-queue
2025-07-15 18:21:26.789 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: memory
2025-07-15 18:21:26.790 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: disk-space
2025-07-15 18:21:26.803 [main] INFO  d.m.p.d.r.CircuitBreakerManager - Circuit breaker manager initialized with config: dev.mars.peegeeq.db.config.PeeGeeQConfiguration$CircuitBreakerConfig@37e0292a
2025-07-15 18:21:26.804 [main] INFO  d.m.p.d.r.BackpressureManager - Backpressure manager initialized with max concurrent operations: 50, timeout: PT30S
2025-07-15 18:21:26.828 [main] INFO  d.m.p.db.metrics.PeeGeeQMetrics - PeeGeeQ metrics registered for instance: peegeeq-default
2025-07-15 18:21:26.830 [main] INFO  d.m.p.d.p.PgConnectionProvider - Initialized PgConnectionProvider
2025-07-15 18:21:26.831 [main] INFO  d.m.p.db.provider.PgMetricsProvider - Initialized PgMetricsProvider with instance ID: peegeeq-default
2025-07-15 18:21:26.831 [main] INFO  d.m.p.db.provider.PgDatabaseService - Initialized PgDatabaseService
2025-07-15 18:21:26.832 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Registered factory creator for type: native
2025-07-15 18:21:26.833 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Registered factory creator for type: outbox
2025-07-15 18:21:26.833 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Registered built-in factory types: native, outbox
2025-07-15 18:21:26.833 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Initialized PgQueueFactoryProvider with 2 factory types
2025-07-15 18:21:26.833 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - PeeGeeQ Manager initialized successfully
2025-07-15 18:21:26.833 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Starting PeeGeeQ Manager...
2025-07-15 18:21:26.833 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Running database migrations...
2025-07-15 18:21:26.833 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Starting database migration process
2025-07-15 18:21:26.845 [main] DEBUG d.m.p.d.m.SchemaMigrationManager - Loaded migration script: V001
2025-07-15 18:21:26.846 [main] DEBUG d.m.p.d.m.SchemaMigrationManager - Loaded migration script: V002
2025-07-15 18:21:26.847 [main] DEBUG d.m.p.d.m.SchemaMigrationManager - Loaded migration script: V003
2025-07-15 18:21:26.851 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Found 3 pending migrations
2025-07-15 18:21:26.872 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Successfully applied migration: V001
2025-07-15 18:21:26.875 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Successfully applied migration: V002
2025-07-15 18:21:26.887 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Successfully applied migration: V003
2025-07-15 18:21:26.887 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Migration process completed. Applied 3 migrations
2025-07-15 18:21:26.897 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Applied 3 database migrations
2025-07-15 18:21:26.898 [main] INFO  d.m.p.db.health.HealthCheckManager - Health check manager started with interval: PT30S
2025-07-15 18:21:26.898 [peegeeq-health-check] DEBUG d.m.p.db.health.HealthCheckManager - Performing health checks
2025-07-15 18:21:26.900 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Started metrics collection with interval: PT1M
2025-07-15 18:21:26.901 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Started background maintenance tasks
2025-07-15 18:21:26.901 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - PeeGeeQ Manager started successfully
2025-07-15 18:21:26.905 [main] INFO  d.m.p.b.BiTemporalEventStoreFactory - Creating bi-temporal event store for payload type: OrderEvent
2025-07-15 18:21:26.909 [main] INFO  d.m.p.b.PgBiTemporalEventStore - Created bi-temporal event store for payload type: OrderEvent
2025-07-15 18:21:26.988 [ForkJoinPool.commonPool-worker-1] DEBUG d.m.p.b.PgBiTemporalEventStore - Successfully appended event: f296b702-6647-423b-ad31-bd4c9ed64f3d of type: OrderCreated
2025-07-15 18:21:27.044 [ForkJoinPool.commonPool-worker-1] DEBUG d.m.p.b.PgBiTemporalEventStore - Query returned 1 events
2025-07-15 18:21:27.046 [main] INFO  d.m.p.b.PgBiTemporalEventStore - Closing bi-temporal event store
2025-07-15 18:21:27.046 [main] INFO  d.m.p.b.PgBiTemporalEventStore - Bi-temporal event store closed
2025-07-15 18:21:27.046 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Stopping PeeGeeQ Manager...
2025-07-15 18:21:27.047 [main] INFO  d.m.p.db.health.HealthCheckManager - Health check manager stopped
2025-07-15 18:21:27.048 [main] DEBUG dev.mars.peegeeq.db.PeeGeeQManager - Scheduled executor terminated gracefully
2025-07-15 18:21:27.048 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - PeeGeeQ Manager stopped successfully
2025-07-15 18:21:27.059 [main] DEBUG d.m.p.db.config.PeeGeeQConfiguration - Loaded properties from: /peegeeq-default.properties
2025-07-15 18:21:27.059 [main] INFO  d.m.p.db.config.PeeGeeQConfiguration - Configuration validation passed
2025-07-15 18:21:27.059 [main] INFO  d.m.p.db.config.PeeGeeQConfiguration - Loaded PeeGeeQ configuration for profile: default
2025-07-15 18:21:27.061 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Initializing PeeGeeQ Manager with profile: default
2025-07-15 18:21:27.061 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2025-07-15 18:21:27.081 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@56dfab87
2025-07-15 18:21:27.081 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2025-07-15 18:21:27.082 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: database
2025-07-15 18:21:27.082 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: outbox-queue
2025-07-15 18:21:27.082 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: native-queue
2025-07-15 18:21:27.082 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: dead-letter-queue
2025-07-15 18:21:27.082 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: memory
2025-07-15 18:21:27.082 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: disk-space
2025-07-15 18:21:27.082 [main] INFO  d.m.p.d.r.CircuitBreakerManager - Circuit breaker manager initialized with config: dev.mars.peegeeq.db.config.PeeGeeQConfiguration$CircuitBreakerConfig@44f24a20
2025-07-15 18:21:27.082 [main] INFO  d.m.p.d.r.BackpressureManager - Backpressure manager initialized with max concurrent operations: 50, timeout: PT30S
2025-07-15 18:21:27.083 [main] INFO  d.m.p.db.metrics.PeeGeeQMetrics - PeeGeeQ metrics registered for instance: peegeeq-default
2025-07-15 18:21:27.083 [main] INFO  d.m.p.d.p.PgConnectionProvider - Initialized PgConnectionProvider
2025-07-15 18:21:27.083 [main] INFO  d.m.p.db.provider.PgMetricsProvider - Initialized PgMetricsProvider with instance ID: peegeeq-default
2025-07-15 18:21:27.083 [main] INFO  d.m.p.db.provider.PgDatabaseService - Initialized PgDatabaseService
2025-07-15 18:21:27.083 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Registered factory creator for type: native
2025-07-15 18:21:27.083 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Registered factory creator for type: outbox
2025-07-15 18:21:27.083 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Registered built-in factory types: native, outbox
2025-07-15 18:21:27.083 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Initialized PgQueueFactoryProvider with 2 factory types
2025-07-15 18:21:27.083 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - PeeGeeQ Manager initialized successfully
2025-07-15 18:21:27.083 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Starting PeeGeeQ Manager...
2025-07-15 18:21:27.083 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Running database migrations...
2025-07-15 18:21:27.083 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Starting database migration process
2025-07-15 18:21:27.087 [main] DEBUG d.m.p.d.m.SchemaMigrationManager - Loaded migration script: V001
2025-07-15 18:21:27.088 [main] DEBUG d.m.p.d.m.SchemaMigrationManager - Loaded migration script: V002
2025-07-15 18:21:27.089 [main] DEBUG d.m.p.d.m.SchemaMigrationManager - Loaded migration script: V003
2025-07-15 18:21:27.091 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Found 0 pending migrations
2025-07-15 18:21:27.091 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Migration process completed. Applied 0 migrations
2025-07-15 18:21:27.093 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Applied 0 database migrations
2025-07-15 18:21:27.094 [main] INFO  d.m.p.db.health.HealthCheckManager - Health check manager started with interval: PT30S
2025-07-15 18:21:27.094 [peegeeq-health-check] DEBUG d.m.p.db.health.HealthCheckManager - Performing health checks
2025-07-15 18:21:27.094 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Started metrics collection with interval: PT1M
2025-07-15 18:21:27.094 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Started background maintenance tasks
2025-07-15 18:21:27.094 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - PeeGeeQ Manager started successfully
2025-07-15 18:21:27.100 [main] INFO  d.m.p.b.BiTemporalEventStoreFactory - Creating bi-temporal event store for payload type: OrderEvent
2025-07-15 18:21:27.100 [main] INFO  d.m.p.b.PgBiTemporalEventStore - Created bi-temporal event store for payload type: OrderEvent
2025-07-15 18:21:27.104 [main] INFO  d.m.p.b.PgBiTemporalEventStore - Closing bi-temporal event store
2025-07-15 18:21:27.104 [main] INFO  d.m.p.b.PgBiTemporalEventStore - Bi-temporal event store closed
2025-07-15 18:21:27.105 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Stopping PeeGeeQ Manager...
2025-07-15 18:21:27.107 [main] INFO  d.m.p.db.health.HealthCheckManager - Health check manager stopped
2025-07-15 18:21:27.108 [main] DEBUG dev.mars.peegeeq.db.PeeGeeQManager - Scheduled executor terminated gracefully
2025-07-15 18:21:27.108 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - PeeGeeQ Manager stopped successfully
2025-07-15 18:21:27.110 [main] DEBUG d.m.p.db.config.PeeGeeQConfiguration - Loaded properties from: /peegeeq-default.properties
2025-07-15 18:21:27.111 [main] INFO  d.m.p.db.config.PeeGeeQConfiguration - Configuration validation passed
2025-07-15 18:21:27.111 [main] INFO  d.m.p.db.config.PeeGeeQConfiguration - Loaded PeeGeeQ configuration for profile: default
2025-07-15 18:21:27.111 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Initializing PeeGeeQ Manager with profile: default
2025-07-15 18:21:27.111 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Starting...
2025-07-15 18:21:27.130 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-3 - Added connection org.postgresql.jdbc.PgConnection@2cae9b8
2025-07-15 18:21:27.131 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Start completed.
2025-07-15 18:21:27.131 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: database
2025-07-15 18:21:27.131 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: outbox-queue
2025-07-15 18:21:27.131 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: native-queue
2025-07-15 18:21:27.131 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: dead-letter-queue
2025-07-15 18:21:27.131 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: memory
2025-07-15 18:21:27.131 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: disk-space
2025-07-15 18:21:27.131 [main] INFO  d.m.p.d.r.CircuitBreakerManager - Circuit breaker manager initialized with config: dev.mars.peegeeq.db.config.PeeGeeQConfiguration$CircuitBreakerConfig@671d1157
2025-07-15 18:21:27.131 [main] INFO  d.m.p.d.r.BackpressureManager - Backpressure manager initialized with max concurrent operations: 50, timeout: PT30S
2025-07-15 18:21:27.132 [main] INFO  d.m.p.db.metrics.PeeGeeQMetrics - PeeGeeQ metrics registered for instance: peegeeq-default
2025-07-15 18:21:27.132 [main] INFO  d.m.p.d.p.PgConnectionProvider - Initialized PgConnectionProvider
2025-07-15 18:21:27.132 [main] INFO  d.m.p.db.provider.PgMetricsProvider - Initialized PgMetricsProvider with instance ID: peegeeq-default
2025-07-15 18:21:27.132 [main] INFO  d.m.p.db.provider.PgDatabaseService - Initialized PgDatabaseService
2025-07-15 18:21:27.132 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Registered factory creator for type: native
2025-07-15 18:21:27.132 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Registered factory creator for type: outbox
2025-07-15 18:21:27.132 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Registered built-in factory types: native, outbox
2025-07-15 18:21:27.132 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Initialized PgQueueFactoryProvider with 2 factory types
2025-07-15 18:21:27.132 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - PeeGeeQ Manager initialized successfully
2025-07-15 18:21:27.132 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Starting PeeGeeQ Manager...
2025-07-15 18:21:27.132 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Running database migrations...
2025-07-15 18:21:27.132 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Starting database migration process
2025-07-15 18:21:27.137 [main] DEBUG d.m.p.d.m.SchemaMigrationManager - Loaded migration script: V001
2025-07-15 18:21:27.137 [main] DEBUG d.m.p.d.m.SchemaMigrationManager - Loaded migration script: V002
2025-07-15 18:21:27.137 [main] DEBUG d.m.p.d.m.SchemaMigrationManager - Loaded migration script: V003
2025-07-15 18:21:27.140 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Found 0 pending migrations
2025-07-15 18:21:27.140 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Migration process completed. Applied 0 migrations
2025-07-15 18:21:27.142 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Applied 0 database migrations
2025-07-15 18:21:27.142 [main] INFO  d.m.p.db.health.HealthCheckManager - Health check manager started with interval: PT30S
2025-07-15 18:21:27.142 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Started metrics collection with interval: PT1M
2025-07-15 18:21:27.142 [peegeeq-health-check] DEBUG d.m.p.db.health.HealthCheckManager - Performing health checks
2025-07-15 18:21:27.142 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Started background maintenance tasks
2025-07-15 18:21:27.142 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - PeeGeeQ Manager started successfully
2025-07-15 18:21:27.142 [main] INFO  d.m.p.b.BiTemporalEventStoreFactory - Creating bi-temporal event store for payload type: OrderEvent
2025-07-15 18:21:27.142 [main] INFO  d.m.p.b.PgBiTemporalEventStore - Created bi-temporal event store for payload type: OrderEvent
2025-07-15 18:21:27.150 [ForkJoinPool.commonPool-worker-1] DEBUG d.m.p.b.PgBiTemporalEventStore - Successfully appended event: 035b61cd-8065-4987-9ba8-54d2ed2ffd51 of type: OrderCreated
2025-07-15 18:21:27.154 [ForkJoinPool.commonPool-worker-1] DEBUG d.m.p.b.PgBiTemporalEventStore - Successfully appended event: 55ccaa20-46d8-4bac-8e4c-cc472e71b7d6 of type: OrderCreated
2025-07-15 18:21:27.159 [ForkJoinPool.commonPool-worker-1] DEBUG d.m.p.b.PgBiTemporalEventStore - Successfully appended event: 89d9e867-237d-48a6-9327-e4908c858e51 of type: OrderCreated
2025-07-15 18:21:27.166 [ForkJoinPool.commonPool-worker-1] DEBUG d.m.p.b.PgBiTemporalEventStore - Query returned 4 events
2025-07-15 18:21:27.172 [main] INFO  d.m.p.b.PgBiTemporalEventStore - Closing bi-temporal event store
2025-07-15 18:21:27.173 [main] INFO  d.m.p.b.PgBiTemporalEventStore - Bi-temporal event store closed
2025-07-15 18:21:27.173 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Stopping PeeGeeQ Manager...
2025-07-15 18:21:27.173 [main] INFO  d.m.p.db.health.HealthCheckManager - Health check manager stopped
2025-07-15 18:21:27.173 [main] DEBUG dev.mars.peegeeq.db.PeeGeeQManager - Scheduled executor terminated gracefully
2025-07-15 18:21:27.173 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - PeeGeeQ Manager stopped successfully
2025-07-15 18:21:27.182 [main] DEBUG d.m.p.db.config.PeeGeeQConfiguration - Loaded properties from: /peegeeq-default.properties
2025-07-15 18:21:27.182 [main] INFO  d.m.p.db.config.PeeGeeQConfiguration - Configuration validation passed
2025-07-15 18:21:27.182 [main] INFO  d.m.p.db.config.PeeGeeQConfiguration - Loaded PeeGeeQ configuration for profile: default
2025-07-15 18:21:27.182 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Initializing PeeGeeQ Manager with profile: default
2025-07-15 18:21:27.182 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Starting...
2025-07-15 18:21:27.202 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-4 - Added connection org.postgresql.jdbc.PgConnection@181d8899
2025-07-15 18:21:27.202 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Start completed.
2025-07-15 18:21:27.202 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: database
2025-07-15 18:21:27.202 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: outbox-queue
2025-07-15 18:21:27.202 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: native-queue
2025-07-15 18:21:27.202 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: dead-letter-queue
2025-07-15 18:21:27.202 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: memory
2025-07-15 18:21:27.202 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: disk-space
2025-07-15 18:21:27.202 [main] INFO  d.m.p.d.r.CircuitBreakerManager - Circuit breaker manager initialized with config: dev.mars.peegeeq.db.config.PeeGeeQConfiguration$CircuitBreakerConfig@439b15f2
2025-07-15 18:21:27.203 [main] INFO  d.m.p.d.r.BackpressureManager - Backpressure manager initialized with max concurrent operations: 50, timeout: PT30S
2025-07-15 18:21:27.203 [main] INFO  d.m.p.db.metrics.PeeGeeQMetrics - PeeGeeQ metrics registered for instance: peegeeq-default
2025-07-15 18:21:27.203 [main] INFO  d.m.p.d.p.PgConnectionProvider - Initialized PgConnectionProvider
2025-07-15 18:21:27.203 [main] INFO  d.m.p.db.provider.PgMetricsProvider - Initialized PgMetricsProvider with instance ID: peegeeq-default
2025-07-15 18:21:27.203 [main] INFO  d.m.p.db.provider.PgDatabaseService - Initialized PgDatabaseService
2025-07-15 18:21:27.203 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Registered factory creator for type: native
2025-07-15 18:21:27.203 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Registered factory creator for type: outbox
2025-07-15 18:21:27.203 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Registered built-in factory types: native, outbox
2025-07-15 18:21:27.203 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Initialized PgQueueFactoryProvider with 2 factory types
2025-07-15 18:21:27.203 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - PeeGeeQ Manager initialized successfully
2025-07-15 18:21:27.203 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Starting PeeGeeQ Manager...
2025-07-15 18:21:27.203 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Running database migrations...
2025-07-15 18:21:27.203 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Starting database migration process
2025-07-15 18:21:27.207 [main] DEBUG d.m.p.d.m.SchemaMigrationManager - Loaded migration script: V001
2025-07-15 18:21:27.207 [main] DEBUG d.m.p.d.m.SchemaMigrationManager - Loaded migration script: V002
2025-07-15 18:21:27.208 [main] DEBUG d.m.p.d.m.SchemaMigrationManager - Loaded migration script: V003
2025-07-15 18:21:27.209 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Found 0 pending migrations
2025-07-15 18:21:27.210 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Migration process completed. Applied 0 migrations
2025-07-15 18:21:27.211 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Applied 0 database migrations
2025-07-15 18:21:27.211 [main] INFO  d.m.p.db.health.HealthCheckManager - Health check manager started with interval: PT30S
2025-07-15 18:21:27.211 [peegeeq-health-check] DEBUG d.m.p.db.health.HealthCheckManager - Performing health checks
2025-07-15 18:21:27.212 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Started metrics collection with interval: PT1M
2025-07-15 18:21:27.212 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Started background maintenance tasks
2025-07-15 18:21:27.212 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - PeeGeeQ Manager started successfully
2025-07-15 18:21:27.212 [main] INFO  d.m.p.b.BiTemporalEventStoreFactory - Creating bi-temporal event store for payload type: OrderEvent
2025-07-15 18:21:27.213 [main] INFO  d.m.p.b.PgBiTemporalEventStore - Created bi-temporal event store for payload type: OrderEvent
2025-07-15 18:21:27.223 [ForkJoinPool.commonPool-worker-1] DEBUG d.m.p.b.PgBiTemporalEventStore - Successfully appended event: 59465484-2899-4a04-bdc0-00db30ba2520 of type: OrderCreated
2025-07-15 18:21:27.228 [ForkJoinPool.commonPool-worker-1] DEBUG d.m.p.b.PgBiTemporalEventStore - Successfully appended event: 2969ea6b-1456-4cb2-bd6b-38a5e4f2e470 of type: OrderCreated
2025-07-15 18:21:27.235 [ForkJoinPool.commonPool-worker-1] DEBUG d.m.p.b.PgBiTemporalEventStore - Query returned 6 events
2025-07-15 18:21:27.236 [main] INFO  d.m.p.b.PgBiTemporalEventStore - Closing bi-temporal event store
2025-07-15 18:21:27.236 [main] INFO  d.m.p.b.PgBiTemporalEventStore - Bi-temporal event store closed
2025-07-15 18:21:27.236 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Stopping PeeGeeQ Manager...
2025-07-15 18:21:27.236 [main] INFO  d.m.p.db.health.HealthCheckManager - Health check manager stopped
2025-07-15 18:21:27.237 [main] DEBUG dev.mars.peegeeq.db.PeeGeeQManager - Scheduled executor terminated gracefully
2025-07-15 18:21:27.237 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - PeeGeeQ Manager stopped successfully
2025-07-15 18:21:27.241 [main] DEBUG d.m.p.db.config.PeeGeeQConfiguration - Loaded properties from: /peegeeq-default.properties
2025-07-15 18:21:27.241 [main] INFO  d.m.p.db.config.PeeGeeQConfiguration - Configuration validation passed
2025-07-15 18:21:27.241 [main] INFO  d.m.p.db.config.PeeGeeQConfiguration - Loaded PeeGeeQ configuration for profile: default
2025-07-15 18:21:27.241 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Initializing PeeGeeQ Manager with profile: default
2025-07-15 18:21:27.242 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Starting...
2025-07-15 18:21:27.260 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-5 - Added connection org.postgresql.jdbc.PgConnection@1f346ad2
2025-07-15 18:21:27.261 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Start completed.
2025-07-15 18:21:27.261 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: database
2025-07-15 18:21:27.261 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: outbox-queue
2025-07-15 18:21:27.261 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: native-queue
2025-07-15 18:21:27.261 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: dead-letter-queue
2025-07-15 18:21:27.261 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: memory
2025-07-15 18:21:27.261 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: disk-space
2025-07-15 18:21:27.261 [main] INFO  d.m.p.d.r.CircuitBreakerManager - Circuit breaker manager initialized with config: dev.mars.peegeeq.db.config.PeeGeeQConfiguration$CircuitBreakerConfig@63884e4
2025-07-15 18:21:27.261 [main] INFO  d.m.p.d.r.BackpressureManager - Backpressure manager initialized with max concurrent operations: 50, timeout: PT30S
2025-07-15 18:21:27.261 [main] INFO  d.m.p.db.metrics.PeeGeeQMetrics - PeeGeeQ metrics registered for instance: peegeeq-default
2025-07-15 18:21:27.262 [main] INFO  d.m.p.d.p.PgConnectionProvider - Initialized PgConnectionProvider
2025-07-15 18:21:27.262 [main] INFO  d.m.p.db.provider.PgMetricsProvider - Initialized PgMetricsProvider with instance ID: peegeeq-default
2025-07-15 18:21:27.262 [main] INFO  d.m.p.db.provider.PgDatabaseService - Initialized PgDatabaseService
2025-07-15 18:21:27.262 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Registered factory creator for type: native
2025-07-15 18:21:27.262 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Registered factory creator for type: outbox
2025-07-15 18:21:27.262 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Registered built-in factory types: native, outbox
2025-07-15 18:21:27.262 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Initialized PgQueueFactoryProvider with 2 factory types
2025-07-15 18:21:27.262 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - PeeGeeQ Manager initialized successfully
2025-07-15 18:21:27.262 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Starting PeeGeeQ Manager...
2025-07-15 18:21:27.262 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Running database migrations...
2025-07-15 18:21:27.262 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Starting database migration process
2025-07-15 18:21:27.266 [main] DEBUG d.m.p.d.m.SchemaMigrationManager - Loaded migration script: V001
2025-07-15 18:21:27.266 [main] DEBUG d.m.p.d.m.SchemaMigrationManager - Loaded migration script: V002
2025-07-15 18:21:27.266 [main] DEBUG d.m.p.d.m.SchemaMigrationManager - Loaded migration script: V003
2025-07-15 18:21:27.269 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Found 0 pending migrations
2025-07-15 18:21:27.269 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Migration process completed. Applied 0 migrations
2025-07-15 18:21:27.270 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Applied 0 database migrations
2025-07-15 18:21:27.271 [main] INFO  d.m.p.db.health.HealthCheckManager - Health check manager started with interval: PT30S
2025-07-15 18:21:27.271 [peegeeq-health-check] DEBUG d.m.p.db.health.HealthCheckManager - Performing health checks
2025-07-15 18:21:27.271 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Started metrics collection with interval: PT1M
2025-07-15 18:21:27.271 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Started background maintenance tasks
2025-07-15 18:21:27.271 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - PeeGeeQ Manager started successfully
2025-07-15 18:21:27.271 [main] INFO  d.m.p.b.BiTemporalEventStoreFactory - Creating bi-temporal event store for payload type: OrderEvent
2025-07-15 18:21:27.271 [main] INFO  d.m.p.b.PgBiTemporalEventStore - Created bi-temporal event store for payload type: OrderEvent
2025-07-15 18:21:27.273 [main] INFO  d.m.p.e.BiTemporalEventStoreExample - Starting Bi-Temporal Event Store Example
2025-07-15 18:21:27.273 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
2025-07-15 18:21:27.369 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: 97fe9aafe86c50b6134fb324d185abe87e175404a47d65b4e53294ce3d7a7421
2025-07-15 18:21:28.429 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT1.1557408S
2025-07-15 18:21:28.430 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:54099/peegeeq_test?loggerLevel=OFF)
2025-07-15 18:21:28.430 [main] INFO  d.m.p.e.BiTemporalEventStoreExample - PostgreSQL container started on port: 54099
2025-07-15 18:21:28.430 [main] DEBUG d.m.p.db.config.PeeGeeQConfiguration - Loaded properties from: /peegeeq-default.properties
2025-07-15 18:21:28.430 [main] INFO  d.m.p.db.config.PeeGeeQConfiguration - Configuration validation passed
2025-07-15 18:21:28.430 [main] INFO  d.m.p.db.config.PeeGeeQConfiguration - Loaded PeeGeeQ configuration for profile: default
2025-07-15 18:21:28.431 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Initializing PeeGeeQ Manager with profile: default
2025-07-15 18:21:28.431 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Starting...
2025-07-15 18:21:28.452 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-6 - Added connection org.postgresql.jdbc.PgConnection@31c628e7
2025-07-15 18:21:28.452 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Start completed.
2025-07-15 18:21:28.452 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: database
2025-07-15 18:21:28.452 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: outbox-queue
2025-07-15 18:21:28.452 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: native-queue
2025-07-15 18:21:28.452 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: dead-letter-queue
2025-07-15 18:21:28.452 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: memory
2025-07-15 18:21:28.452 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: disk-space
2025-07-15 18:21:28.452 [main] INFO  d.m.p.d.r.CircuitBreakerManager - Circuit breaker manager initialized with config: dev.mars.peegeeq.db.config.PeeGeeQConfiguration$CircuitBreakerConfig@8bd86c8
2025-07-15 18:21:28.452 [main] INFO  d.m.p.d.r.BackpressureManager - Backpressure manager initialized with max concurrent operations: 50, timeout: PT30S
2025-07-15 18:21:28.453 [main] INFO  d.m.p.db.metrics.PeeGeeQMetrics - PeeGeeQ metrics registered for instance: peegeeq-default
2025-07-15 18:21:28.453 [main] INFO  d.m.p.d.p.PgConnectionProvider - Initialized PgConnectionProvider
2025-07-15 18:21:28.453 [main] INFO  d.m.p.db.provider.PgMetricsProvider - Initialized PgMetricsProvider with instance ID: peegeeq-default
2025-07-15 18:21:28.453 [main] INFO  d.m.p.db.provider.PgDatabaseService - Initialized PgDatabaseService
2025-07-15 18:21:28.453 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Registered factory creator for type: native
2025-07-15 18:21:28.453 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Registered factory creator for type: outbox
2025-07-15 18:21:28.453 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Registered built-in factory types: native, outbox
2025-07-15 18:21:28.453 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Initialized PgQueueFactoryProvider with 2 factory types
2025-07-15 18:21:28.453 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - PeeGeeQ Manager initialized successfully
2025-07-15 18:21:28.453 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Starting PeeGeeQ Manager...
2025-07-15 18:21:28.453 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Running database migrations...
2025-07-15 18:21:28.453 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Starting database migration process
2025-07-15 18:21:28.458 [main] DEBUG d.m.p.d.m.SchemaMigrationManager - Loaded migration script: V001
2025-07-15 18:21:28.458 [main] DEBUG d.m.p.d.m.SchemaMigrationManager - Loaded migration script: V002
2025-07-15 18:21:28.458 [main] DEBUG d.m.p.d.m.SchemaMigrationManager - Loaded migration script: V003
2025-07-15 18:21:28.460 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Found 3 pending migrations
2025-07-15 18:21:28.474 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Successfully applied migration: V001
2025-07-15 18:21:28.478 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Successfully applied migration: V002
2025-07-15 18:21:28.489 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Successfully applied migration: V003
2025-07-15 18:21:28.489 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Migration process completed. Applied 3 migrations
2025-07-15 18:21:28.492 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Applied 3 database migrations
2025-07-15 18:21:28.492 [main] INFO  d.m.p.db.health.HealthCheckManager - Health check manager started with interval: PT30S
2025-07-15 18:21:28.492 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Started metrics collection with interval: PT1M
2025-07-15 18:21:28.492 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Started background maintenance tasks
2025-07-15 18:21:28.492 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - PeeGeeQ Manager started successfully
2025-07-15 18:21:28.492 [peegeeq-health-check] DEBUG d.m.p.db.health.HealthCheckManager - Performing health checks
2025-07-15 18:21:28.492 [main] INFO  d.m.p.e.BiTemporalEventStoreExample - PeeGeeQ Manager started successfully
2025-07-15 18:21:28.492 [main] INFO  d.m.p.b.BiTemporalEventStoreFactory - Creating bi-temporal event store for payload type: OrderEvent
2025-07-15 18:21:28.492 [main] INFO  d.m.p.b.PgBiTemporalEventStore - Created bi-temporal event store for payload type: OrderEvent
2025-07-15 18:21:28.493 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample - === Bi-Temporal Event Store Example ===
2025-07-15 18:21:28.493 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample - 
1. Appending initial events...
2025-07-15 18:21:28.499 [ForkJoinPool.commonPool-worker-1] DEBUG d.m.p.b.PgBiTemporalEventStore - Successfully appended event: c157f9c2-7947-4d21-9dd4-3db2774b7dca of type: OrderCreated
2025-07-15 18:21:28.503 [ForkJoinPool.commonPool-worker-1] DEBUG d.m.p.b.PgBiTemporalEventStore - Successfully appended event: 930d28de-50f1-40fd-8f3a-6b91768745af of type: OrderCreated
2025-07-15 18:21:28.504 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample - Created event 1: c157f9c2-7947-4d21-9dd4-3db2774b7dca
2025-07-15 18:21:28.504 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample - Created event 2: 930d28de-50f1-40fd-8f3a-6b91768745af
2025-07-15 18:21:28.504 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample - 
2. Querying all events...
2025-07-15 18:21:28.508 [ForkJoinPool.commonPool-worker-1] DEBUG d.m.p.b.PgBiTemporalEventStore - Query returned 2 events
2025-07-15 18:21:28.508 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample - Found 2 events:
2025-07-15 18:21:28.508 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample -   Event: c157f9c2-7947-4d21-9dd4-3db2774b7dca - OrderCreated - OrderEvent{orderId='ORDER-001', customerId='CUST-123', amount=99.99, status='CREATED'}
2025-07-15 18:21:28.508 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample -   Event: 930d28de-50f1-40fd-8f3a-6b91768745af - OrderCreated - OrderEvent{orderId='ORDER-002', customerId='CUST-456', amount=149.99, status='CREATED'}
2025-07-15 18:21:28.508 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample - 
3. Querying by event type...
2025-07-15 18:21:28.511 [ForkJoinPool.commonPool-worker-1] DEBUG d.m.p.b.PgBiTemporalEventStore - Query returned 2 events
2025-07-15 18:21:28.511 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample - Found 2 OrderCreated events
2025-07-15 18:21:28.511 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample - 
4. Querying by aggregate...
2025-07-15 18:21:28.513 [ForkJoinPool.commonPool-worker-1] DEBUG d.m.p.b.PgBiTemporalEventStore - Query returned 1 events
2025-07-15 18:21:28.513 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample - Found 1 events for ORDER-001
2025-07-15 18:21:28.513 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample - 
5. Adding correction event...
2025-07-15 18:21:28.519 [ForkJoinPool.commonPool-worker-1] DEBUG d.m.p.b.PgBiTemporalEventStore - Successfully appended correction event: f6e6938a-50cd-4ab5-8789-931710d21450 for original: c157f9c2-7947-4d21-9dd4-3db2774b7dca
2025-07-15 18:21:28.519 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample - Created correction event: f6e6938a-50cd-4ab5-8789-931710d21450
2025-07-15 18:21:28.519 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample - 
6. Getting all versions of ORDER-001 event...
2025-07-15 18:21:28.521 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample - Found 2 versions:
2025-07-15 18:21:28.521 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample -   Version 1: 99.99 - Correction: false
2025-07-15 18:21:28.521 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample -   Version 2: 89.99 - Correction: true
2025-07-15 18:21:28.521 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample - 
7. Point-in-time query (before correction)...
2025-07-15 18:21:28.524 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample - Event before correction: c157f9c2-7947-4d21-9dd4-3db2774b7dca (amount: 99.99)
2025-07-15 18:21:28.524 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample - 
8. Temporal range query...
2025-07-15 18:21:28.526 [ForkJoinPool.commonPool-worker-1] DEBUG d.m.p.b.PgBiTemporalEventStore - Query returned 3 events
2025-07-15 18:21:28.526 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample - Found 3 events in time range:
2025-07-15 18:21:28.526 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample -   Event: ORDER-001 at 2025-07-15T09:21:28.493403Z
2025-07-15 18:21:28.526 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample -   Event: ORDER-001 at 2025-07-15T09:21:28.493403Z
2025-07-15 18:21:28.526 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample -   Event: ORDER-002 at 2025-07-15T09:31:28.493403Z
2025-07-15 18:21:28.526 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample - 
9. Getting event store statistics...
2025-07-15 18:21:28.528 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample - Event Store Statistics:
2025-07-15 18:21:28.528 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample -   Total events: 3
2025-07-15 18:21:28.528 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample -   Total corrections: 1
2025-07-15 18:21:28.528 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample -   Event counts by type: {}
2025-07-15 18:21:28.528 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample -   Oldest event time: 2025-07-15T09:21:28.493403Z
2025-07-15 18:21:28.528 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample -   Newest event time: 2025-07-15T09:31:28.493403Z
2025-07-15 18:21:28.528 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample -   Storage size: 0 bytes
2025-07-15 18:21:28.528 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample - 
=== Bi-Temporal Event Store Example Completed Successfully ===
2025-07-15 18:21:28.528 [main] INFO  d.m.p.b.PgBiTemporalEventStore - Closing bi-temporal event store
2025-07-15 18:21:28.528 [main] INFO  d.m.p.b.PgBiTemporalEventStore - Bi-temporal event store closed
2025-07-15 18:21:28.528 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Stopping PeeGeeQ Manager...
2025-07-15 18:21:28.528 [main] INFO  d.m.p.db.health.HealthCheckManager - Health check manager stopped
2025-07-15 18:21:28.528 [main] DEBUG dev.mars.peegeeq.db.PeeGeeQManager - Scheduled executor terminated gracefully
2025-07-15 18:21:28.528 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - PeeGeeQ Manager stopped successfully
2025-07-15 18:21:28.529 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Shutdown initiated...
2025-07-15 18:21:28.541 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Shutdown completed.
2025-07-15 18:21:28.857 [main] INFO  d.m.p.e.BiTemporalEventStoreExample - Bi-Temporal Event Store Example completed
2025-07-15 18:21:28.858 [main] INFO  d.m.p.b.PgBiTemporalEventStore - Closing bi-temporal event store
2025-07-15 18:21:28.858 [main] INFO  d.m.p.b.PgBiTemporalEventStore - Bi-temporal event store closed
2025-07-15 18:21:28.858 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Stopping PeeGeeQ Manager...
2025-07-15 18:21:28.858 [main] INFO  d.m.p.db.health.HealthCheckManager - Health check manager stopped
2025-07-15 18:21:28.859 [main] DEBUG dev.mars.peegeeq.db.PeeGeeQManager - Scheduled executor terminated gracefully
2025-07-15 18:21:28.859 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - PeeGeeQ Manager stopped successfully
2025-07-15 18:24:00.419 [main] INFO  o.t.utility.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2025-07-15 18:24:00.655 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.NpipeSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2025-07-15 18:24:00.934 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Npipe socket (npipe:////./pipe/docker_engine)
2025-07-15 18:24:00.935 [main] INFO  o.testcontainers.DockerClientFactory - Docker host IP address is localhost
2025-07-15 18:24:00.959 [main] INFO  o.testcontainers.DockerClientFactory - Connected to docker: 
  Server Version: 28.3.0
  API Version: 1.51
  Operating System: Docker Desktop
  Total Memory: 15905 MB
2025-07-15 18:24:00.985 [main] INFO  tc.testcontainers/ryuk:0.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
2025-07-15 18:24:01.263 [main] INFO  tc.testcontainers/ryuk:0.5.1 - Container testcontainers/ryuk:0.5.1 is starting: ace6375b5cde3e8e8e6222b7bae83f2c4f5e7db2407ba661be452783c856bd47
2025-07-15 18:24:01.709 [main] INFO  tc.testcontainers/ryuk:0.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.7426341S
2025-07-15 18:24:01.722 [main] INFO  o.t.utility.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2025-07-15 18:24:01.722 [main] INFO  o.testcontainers.DockerClientFactory - Checking the system...
2025-07-15 18:24:01.723 [main] INFO  o.testcontainers.DockerClientFactory - ✔︎ Docker server version should be at least 1.6.0
2025-07-15 18:24:01.724 [main] INFO  tc.postgres:15.13-alpine3.20 - Creating container for image: postgres:15.13-alpine3.20
2025-07-15 18:24:01.792 [main] INFO  tc.postgres:15.13-alpine3.20 - Container postgres:15.13-alpine3.20 is starting: d8761fcda15c9ba29f14c80f28b991ae5443436aa8cdd066e6ff6db1a3fb400c
2025-07-15 18:24:03.378 [main] INFO  tc.postgres:15.13-alpine3.20 - Container postgres:15.13-alpine3.20 started in PT1.6551067S
2025-07-15 18:24:03.379 [main] INFO  tc.postgres:15.13-alpine3.20 - Container is started (JDBC URL: jdbc:postgresql://localhost:54160/peegeeq_test?loggerLevel=OFF)
2025-07-15 18:24:03.402 [main] DEBUG d.m.p.db.config.PeeGeeQConfiguration - Loaded properties from: /peegeeq-default.properties
2025-07-15 18:24:03.403 [main] INFO  d.m.p.db.config.PeeGeeQConfiguration - Configuration validation passed
2025-07-15 18:24:03.404 [main] INFO  d.m.p.db.config.PeeGeeQConfiguration - Loaded PeeGeeQ configuration for profile: default
2025-07-15 18:24:03.521 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Initializing PeeGeeQ Manager with profile: default
2025-07-15 18:24:03.531 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-07-15 18:24:03.707 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3db972d2
2025-07-15 18:24:03.708 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-07-15 18:24:03.714 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: database
2025-07-15 18:24:03.714 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: outbox-queue
2025-07-15 18:24:03.715 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: native-queue
2025-07-15 18:24:03.716 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: dead-letter-queue
2025-07-15 18:24:03.716 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: memory
2025-07-15 18:24:03.717 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: disk-space
2025-07-15 18:24:03.735 [main] INFO  d.m.p.d.r.CircuitBreakerManager - Circuit breaker manager initialized with config: dev.mars.peegeeq.db.config.PeeGeeQConfiguration$CircuitBreakerConfig@44b194fe
2025-07-15 18:24:03.736 [main] INFO  d.m.p.d.r.BackpressureManager - Backpressure manager initialized with max concurrent operations: 50, timeout: PT30S
2025-07-15 18:24:03.757 [main] INFO  d.m.p.db.metrics.PeeGeeQMetrics - PeeGeeQ metrics registered for instance: peegeeq-default
2025-07-15 18:24:03.759 [main] INFO  d.m.p.d.p.PgConnectionProvider - Initialized PgConnectionProvider
2025-07-15 18:24:03.760 [main] INFO  d.m.p.db.provider.PgMetricsProvider - Initialized PgMetricsProvider with instance ID: peegeeq-default
2025-07-15 18:24:03.760 [main] INFO  d.m.p.db.provider.PgDatabaseService - Initialized PgDatabaseService
2025-07-15 18:24:03.761 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Registered factory creator for type: native
2025-07-15 18:24:03.761 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Registered factory creator for type: outbox
2025-07-15 18:24:03.761 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Registered built-in factory types: native, outbox
2025-07-15 18:24:03.761 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Initialized PgQueueFactoryProvider with 2 factory types
2025-07-15 18:24:03.761 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - PeeGeeQ Manager initialized successfully
2025-07-15 18:24:03.761 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Starting PeeGeeQ Manager...
2025-07-15 18:24:03.761 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Running database migrations...
2025-07-15 18:24:03.761 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Starting database migration process
2025-07-15 18:24:03.780 [main] DEBUG d.m.p.d.m.SchemaMigrationManager - Loaded migration script: V001
2025-07-15 18:24:03.781 [main] DEBUG d.m.p.d.m.SchemaMigrationManager - Loaded migration script: V002
2025-07-15 18:24:03.782 [main] DEBUG d.m.p.d.m.SchemaMigrationManager - Loaded migration script: V003
2025-07-15 18:24:03.788 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Found 3 pending migrations
2025-07-15 18:24:03.826 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Successfully applied migration: V001
2025-07-15 18:24:03.831 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Successfully applied migration: V002
2025-07-15 18:24:03.854 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Successfully applied migration: V003
2025-07-15 18:24:03.854 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Migration process completed. Applied 3 migrations
2025-07-15 18:24:03.865 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Applied 3 database migrations
2025-07-15 18:24:03.866 [main] INFO  d.m.p.db.health.HealthCheckManager - Health check manager started with interval: PT30S
2025-07-15 18:24:03.866 [peegeeq-health-check] DEBUG d.m.p.db.health.HealthCheckManager - Performing health checks
2025-07-15 18:24:03.867 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Started metrics collection with interval: PT1M
2025-07-15 18:24:03.868 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Started background maintenance tasks
2025-07-15 18:24:03.869 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - PeeGeeQ Manager started successfully
2025-07-15 18:24:03.872 [main] INFO  d.m.p.b.BiTemporalEventStoreFactory - Creating bi-temporal event store for payload type: OrderEvent
2025-07-15 18:24:03.874 [main] INFO  d.m.p.b.PgBiTemporalEventStore - Created bi-temporal event store for payload type: OrderEvent
2025-07-15 18:24:03.935 [ForkJoinPool.commonPool-worker-1] DEBUG d.m.p.b.PgBiTemporalEventStore - Successfully appended event: 108f3ae1-26c9-488f-a259-25d30ded819f of type: OrderCreated
2025-07-15 18:24:03.979 [ForkJoinPool.commonPool-worker-1] DEBUG d.m.p.b.PgBiTemporalEventStore - Query returned 1 events
2025-07-15 18:24:03.983 [main] INFO  d.m.p.b.PgBiTemporalEventStore - Closing bi-temporal event store
2025-07-15 18:24:03.983 [main] INFO  d.m.p.b.PgBiTemporalEventStore - Bi-temporal event store closed
2025-07-15 18:24:03.983 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Stopping PeeGeeQ Manager...
2025-07-15 18:24:03.984 [main] INFO  d.m.p.db.health.HealthCheckManager - Health check manager stopped
2025-07-15 18:24:03.984 [main] DEBUG dev.mars.peegeeq.db.PeeGeeQManager - Scheduled executor terminated gracefully
2025-07-15 18:24:03.984 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - PeeGeeQ Manager stopped successfully
2025-07-15 18:24:04.002 [main] DEBUG d.m.p.db.config.PeeGeeQConfiguration - Loaded properties from: /peegeeq-default.properties
2025-07-15 18:24:04.002 [main] INFO  d.m.p.db.config.PeeGeeQConfiguration - Configuration validation passed
2025-07-15 18:24:04.002 [main] INFO  d.m.p.db.config.PeeGeeQConfiguration - Loaded PeeGeeQ configuration for profile: default
2025-07-15 18:24:04.003 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Initializing PeeGeeQ Manager with profile: default
2025-07-15 18:24:04.003 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2025-07-15 18:24:04.027 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@296e281a
2025-07-15 18:24:04.028 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2025-07-15 18:24:04.028 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: database
2025-07-15 18:24:04.028 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: outbox-queue
2025-07-15 18:24:04.028 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: native-queue
2025-07-15 18:24:04.028 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: dead-letter-queue
2025-07-15 18:24:04.028 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: memory
2025-07-15 18:24:04.028 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: disk-space
2025-07-15 18:24:04.028 [main] INFO  d.m.p.d.r.CircuitBreakerManager - Circuit breaker manager initialized with config: dev.mars.peegeeq.db.config.PeeGeeQConfiguration$CircuitBreakerConfig@7ecec90d
2025-07-15 18:24:04.028 [main] INFO  d.m.p.d.r.BackpressureManager - Backpressure manager initialized with max concurrent operations: 50, timeout: PT30S
2025-07-15 18:24:04.029 [main] INFO  d.m.p.db.metrics.PeeGeeQMetrics - PeeGeeQ metrics registered for instance: peegeeq-default
2025-07-15 18:24:04.029 [main] INFO  d.m.p.d.p.PgConnectionProvider - Initialized PgConnectionProvider
2025-07-15 18:24:04.029 [main] INFO  d.m.p.db.provider.PgMetricsProvider - Initialized PgMetricsProvider with instance ID: peegeeq-default
2025-07-15 18:24:04.029 [main] INFO  d.m.p.db.provider.PgDatabaseService - Initialized PgDatabaseService
2025-07-15 18:24:04.029 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Registered factory creator for type: native
2025-07-15 18:24:04.029 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Registered factory creator for type: outbox
2025-07-15 18:24:04.029 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Registered built-in factory types: native, outbox
2025-07-15 18:24:04.029 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Initialized PgQueueFactoryProvider with 2 factory types
2025-07-15 18:24:04.029 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - PeeGeeQ Manager initialized successfully
2025-07-15 18:24:04.029 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Starting PeeGeeQ Manager...
2025-07-15 18:24:04.029 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Running database migrations...
2025-07-15 18:24:04.029 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Starting database migration process
2025-07-15 18:24:04.034 [main] DEBUG d.m.p.d.m.SchemaMigrationManager - Loaded migration script: V001
2025-07-15 18:24:04.035 [main] DEBUG d.m.p.d.m.SchemaMigrationManager - Loaded migration script: V002
2025-07-15 18:24:04.035 [main] DEBUG d.m.p.d.m.SchemaMigrationManager - Loaded migration script: V003
2025-07-15 18:24:04.038 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Found 0 pending migrations
2025-07-15 18:24:04.038 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Migration process completed. Applied 0 migrations
2025-07-15 18:24:04.041 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Applied 0 database migrations
2025-07-15 18:24:04.041 [main] INFO  d.m.p.db.health.HealthCheckManager - Health check manager started with interval: PT30S
2025-07-15 18:24:04.041 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Started metrics collection with interval: PT1M
2025-07-15 18:24:04.041 [peegeeq-health-check] DEBUG d.m.p.db.health.HealthCheckManager - Performing health checks
2025-07-15 18:24:04.041 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Started background maintenance tasks
2025-07-15 18:24:04.041 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - PeeGeeQ Manager started successfully
2025-07-15 18:24:04.041 [main] INFO  d.m.p.b.BiTemporalEventStoreFactory - Creating bi-temporal event store for payload type: OrderEvent
2025-07-15 18:24:04.042 [main] INFO  d.m.p.b.PgBiTemporalEventStore - Created bi-temporal event store for payload type: OrderEvent
2025-07-15 18:24:04.046 [main] INFO  d.m.p.b.PgBiTemporalEventStore - Closing bi-temporal event store
2025-07-15 18:24:04.046 [main] INFO  d.m.p.b.PgBiTemporalEventStore - Bi-temporal event store closed
2025-07-15 18:24:04.046 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Stopping PeeGeeQ Manager...
2025-07-15 18:24:04.050 [main] INFO  d.m.p.db.health.HealthCheckManager - Health check manager stopped
2025-07-15 18:24:04.051 [main] DEBUG dev.mars.peegeeq.db.PeeGeeQManager - Scheduled executor terminated gracefully
2025-07-15 18:24:04.051 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - PeeGeeQ Manager stopped successfully
2025-07-15 18:24:04.054 [main] DEBUG d.m.p.db.config.PeeGeeQConfiguration - Loaded properties from: /peegeeq-default.properties
2025-07-15 18:24:04.054 [main] INFO  d.m.p.db.config.PeeGeeQConfiguration - Configuration validation passed
2025-07-15 18:24:04.054 [main] INFO  d.m.p.db.config.PeeGeeQConfiguration - Loaded PeeGeeQ configuration for profile: default
2025-07-15 18:24:04.054 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Initializing PeeGeeQ Manager with profile: default
2025-07-15 18:24:04.054 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Starting...
2025-07-15 18:24:04.078 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-3 - Added connection org.postgresql.jdbc.PgConnection@53b7ce6
2025-07-15 18:24:04.079 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Start completed.
2025-07-15 18:24:04.079 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: database
2025-07-15 18:24:04.079 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: outbox-queue
2025-07-15 18:24:04.079 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: native-queue
2025-07-15 18:24:04.079 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: dead-letter-queue
2025-07-15 18:24:04.079 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: memory
2025-07-15 18:24:04.079 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: disk-space
2025-07-15 18:24:04.079 [main] INFO  d.m.p.d.r.CircuitBreakerManager - Circuit breaker manager initialized with config: dev.mars.peegeeq.db.config.PeeGeeQConfiguration$CircuitBreakerConfig@5e7c141d
2025-07-15 18:24:04.079 [main] INFO  d.m.p.d.r.BackpressureManager - Backpressure manager initialized with max concurrent operations: 50, timeout: PT30S
2025-07-15 18:24:04.079 [main] INFO  d.m.p.db.metrics.PeeGeeQMetrics - PeeGeeQ metrics registered for instance: peegeeq-default
2025-07-15 18:24:04.080 [main] INFO  d.m.p.d.p.PgConnectionProvider - Initialized PgConnectionProvider
2025-07-15 18:24:04.080 [main] INFO  d.m.p.db.provider.PgMetricsProvider - Initialized PgMetricsProvider with instance ID: peegeeq-default
2025-07-15 18:24:04.080 [main] INFO  d.m.p.db.provider.PgDatabaseService - Initialized PgDatabaseService
2025-07-15 18:24:04.080 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Registered factory creator for type: native
2025-07-15 18:24:04.080 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Registered factory creator for type: outbox
2025-07-15 18:24:04.080 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Registered built-in factory types: native, outbox
2025-07-15 18:24:04.080 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Initialized PgQueueFactoryProvider with 2 factory types
2025-07-15 18:24:04.080 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - PeeGeeQ Manager initialized successfully
2025-07-15 18:24:04.080 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Starting PeeGeeQ Manager...
2025-07-15 18:24:04.080 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Running database migrations...
2025-07-15 18:24:04.080 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Starting database migration process
2025-07-15 18:24:04.086 [main] DEBUG d.m.p.d.m.SchemaMigrationManager - Loaded migration script: V001
2025-07-15 18:24:04.087 [main] DEBUG d.m.p.d.m.SchemaMigrationManager - Loaded migration script: V002
2025-07-15 18:24:04.087 [main] DEBUG d.m.p.d.m.SchemaMigrationManager - Loaded migration script: V003
2025-07-15 18:24:04.091 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Found 0 pending migrations
2025-07-15 18:24:04.091 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Migration process completed. Applied 0 migrations
2025-07-15 18:24:04.093 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Applied 0 database migrations
2025-07-15 18:24:04.094 [main] INFO  d.m.p.db.health.HealthCheckManager - Health check manager started with interval: PT30S
2025-07-15 18:24:04.094 [peegeeq-health-check] DEBUG d.m.p.db.health.HealthCheckManager - Performing health checks
2025-07-15 18:24:04.094 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Started metrics collection with interval: PT1M
2025-07-15 18:24:04.100 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Started background maintenance tasks
2025-07-15 18:24:04.101 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - PeeGeeQ Manager started successfully
2025-07-15 18:24:04.101 [main] INFO  d.m.p.b.BiTemporalEventStoreFactory - Creating bi-temporal event store for payload type: OrderEvent
2025-07-15 18:24:04.101 [main] INFO  d.m.p.b.PgBiTemporalEventStore - Created bi-temporal event store for payload type: OrderEvent
2025-07-15 18:24:04.113 [ForkJoinPool.commonPool-worker-1] DEBUG d.m.p.b.PgBiTemporalEventStore - Successfully appended event: bb0aaa32-e70b-4edc-8c2f-4cec20390ff7 of type: OrderCreated
2025-07-15 18:24:04.118 [ForkJoinPool.commonPool-worker-1] DEBUG d.m.p.b.PgBiTemporalEventStore - Successfully appended event: 11e44cac-c8c7-4b4d-a1f6-c8b941b14152 of type: OrderCreated
2025-07-15 18:24:04.129 [ForkJoinPool.commonPool-worker-1] DEBUG d.m.p.b.PgBiTemporalEventStore - Successfully appended event: 1513c1a7-df3b-4453-bf5a-c497287c06a6 of type: OrderCreated
2025-07-15 18:24:04.135 [ForkJoinPool.commonPool-worker-1] DEBUG d.m.p.b.PgBiTemporalEventStore - Query returned 4 events
2025-07-15 18:24:04.145 [main] INFO  d.m.p.b.PgBiTemporalEventStore - Closing bi-temporal event store
2025-07-15 18:24:04.145 [main] INFO  d.m.p.b.PgBiTemporalEventStore - Bi-temporal event store closed
2025-07-15 18:24:04.146 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Stopping PeeGeeQ Manager...
2025-07-15 18:24:04.146 [main] INFO  d.m.p.db.health.HealthCheckManager - Health check manager stopped
2025-07-15 18:24:04.146 [main] DEBUG dev.mars.peegeeq.db.PeeGeeQManager - Scheduled executor terminated gracefully
2025-07-15 18:24:04.146 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - PeeGeeQ Manager stopped successfully
2025-07-15 18:24:04.157 [main] DEBUG d.m.p.db.config.PeeGeeQConfiguration - Loaded properties from: /peegeeq-default.properties
2025-07-15 18:24:04.157 [main] INFO  d.m.p.db.config.PeeGeeQConfiguration - Configuration validation passed
2025-07-15 18:24:04.157 [main] INFO  d.m.p.db.config.PeeGeeQConfiguration - Loaded PeeGeeQ configuration for profile: default
2025-07-15 18:24:04.157 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Initializing PeeGeeQ Manager with profile: default
2025-07-15 18:24:04.158 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Starting...
2025-07-15 18:24:04.176 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-4 - Added connection org.postgresql.jdbc.PgConnection@44cffc25
2025-07-15 18:24:04.177 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Start completed.
2025-07-15 18:24:04.177 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: database
2025-07-15 18:24:04.177 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: outbox-queue
2025-07-15 18:24:04.177 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: native-queue
2025-07-15 18:24:04.177 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: dead-letter-queue
2025-07-15 18:24:04.177 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: memory
2025-07-15 18:24:04.177 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: disk-space
2025-07-15 18:24:04.177 [main] INFO  d.m.p.d.r.CircuitBreakerManager - Circuit breaker manager initialized with config: dev.mars.peegeeq.db.config.PeeGeeQConfiguration$CircuitBreakerConfig@4f89331f
2025-07-15 18:24:04.177 [main] INFO  d.m.p.d.r.BackpressureManager - Backpressure manager initialized with max concurrent operations: 50, timeout: PT30S
2025-07-15 18:24:04.178 [main] INFO  d.m.p.db.metrics.PeeGeeQMetrics - PeeGeeQ metrics registered for instance: peegeeq-default
2025-07-15 18:24:04.178 [main] INFO  d.m.p.d.p.PgConnectionProvider - Initialized PgConnectionProvider
2025-07-15 18:24:04.178 [main] INFO  d.m.p.db.provider.PgMetricsProvider - Initialized PgMetricsProvider with instance ID: peegeeq-default
2025-07-15 18:24:04.178 [main] INFO  d.m.p.db.provider.PgDatabaseService - Initialized PgDatabaseService
2025-07-15 18:24:04.178 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Registered factory creator for type: native
2025-07-15 18:24:04.179 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Registered factory creator for type: outbox
2025-07-15 18:24:04.179 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Registered built-in factory types: native, outbox
2025-07-15 18:24:04.179 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Initialized PgQueueFactoryProvider with 2 factory types
2025-07-15 18:24:04.179 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - PeeGeeQ Manager initialized successfully
2025-07-15 18:24:04.179 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Starting PeeGeeQ Manager...
2025-07-15 18:24:04.179 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Running database migrations...
2025-07-15 18:24:04.179 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Starting database migration process
2025-07-15 18:24:04.183 [main] DEBUG d.m.p.d.m.SchemaMigrationManager - Loaded migration script: V001
2025-07-15 18:24:04.183 [main] DEBUG d.m.p.d.m.SchemaMigrationManager - Loaded migration script: V002
2025-07-15 18:24:04.184 [main] DEBUG d.m.p.d.m.SchemaMigrationManager - Loaded migration script: V003
2025-07-15 18:24:04.186 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Found 0 pending migrations
2025-07-15 18:24:04.187 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Migration process completed. Applied 0 migrations
2025-07-15 18:24:04.188 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Applied 0 database migrations
2025-07-15 18:24:04.189 [main] INFO  d.m.p.db.health.HealthCheckManager - Health check manager started with interval: PT30S
2025-07-15 18:24:04.189 [peegeeq-health-check] DEBUG d.m.p.db.health.HealthCheckManager - Performing health checks
2025-07-15 18:24:04.189 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Started metrics collection with interval: PT1M
2025-07-15 18:24:04.189 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Started background maintenance tasks
2025-07-15 18:24:04.189 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - PeeGeeQ Manager started successfully
2025-07-15 18:24:04.189 [main] INFO  d.m.p.b.BiTemporalEventStoreFactory - Creating bi-temporal event store for payload type: OrderEvent
2025-07-15 18:24:04.189 [main] INFO  d.m.p.b.PgBiTemporalEventStore - Created bi-temporal event store for payload type: OrderEvent
2025-07-15 18:24:04.202 [ForkJoinPool.commonPool-worker-1] DEBUG d.m.p.b.PgBiTemporalEventStore - Successfully appended event: 3f2b9c33-fcde-424b-94d3-e68bcbc99ad3 of type: OrderCreated
2025-07-15 18:24:04.207 [ForkJoinPool.commonPool-worker-1] DEBUG d.m.p.b.PgBiTemporalEventStore - Successfully appended event: 3dddf63e-e5f0-4404-97ff-04cec88b7573 of type: OrderCreated
2025-07-15 18:24:04.220 [ForkJoinPool.commonPool-worker-1] DEBUG d.m.p.b.PgBiTemporalEventStore - Query returned 6 events
2025-07-15 18:24:04.224 [ForkJoinPool.commonPool-worker-1] DEBUG d.m.p.b.PgBiTemporalEventStore - Query returned 6 events
2025-07-15 18:24:04.227 [ForkJoinPool.commonPool-worker-1] DEBUG d.m.p.b.PgBiTemporalEventStore - Query returned 1 events
2025-07-15 18:24:04.234 [ForkJoinPool.commonPool-worker-1] DEBUG d.m.p.b.PgBiTemporalEventStore - Successfully appended correction event: 60c2ae0b-4f85-407c-811c-91b619ed2caf for original: 3f2b9c33-fcde-424b-94d3-e68bcbc99ad3
2025-07-15 18:24:04.245 [main] INFO  d.m.p.b.PgBiTemporalEventStore - Closing bi-temporal event store
2025-07-15 18:24:04.245 [main] INFO  d.m.p.b.PgBiTemporalEventStore - Bi-temporal event store closed
2025-07-15 18:24:04.245 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Stopping PeeGeeQ Manager...
2025-07-15 18:24:04.247 [main] INFO  d.m.p.db.health.HealthCheckManager - Health check manager stopped
2025-07-15 18:24:04.247 [main] DEBUG dev.mars.peegeeq.db.PeeGeeQManager - Scheduled executor terminated gracefully
2025-07-15 18:24:04.247 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - PeeGeeQ Manager stopped successfully
2025-07-15 18:24:04.250 [main] DEBUG d.m.p.db.config.PeeGeeQConfiguration - Loaded properties from: /peegeeq-default.properties
2025-07-15 18:24:04.250 [main] INFO  d.m.p.db.config.PeeGeeQConfiguration - Configuration validation passed
2025-07-15 18:24:04.250 [main] INFO  d.m.p.db.config.PeeGeeQConfiguration - Loaded PeeGeeQ configuration for profile: default
2025-07-15 18:24:04.250 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Initializing PeeGeeQ Manager with profile: default
2025-07-15 18:24:04.250 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Starting...
2025-07-15 18:24:04.269 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-5 - Added connection org.postgresql.jdbc.PgConnection@423b2b62
2025-07-15 18:24:04.270 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Start completed.
2025-07-15 18:24:04.270 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: database
2025-07-15 18:24:04.270 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: outbox-queue
2025-07-15 18:24:04.270 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: native-queue
2025-07-15 18:24:04.270 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: dead-letter-queue
2025-07-15 18:24:04.270 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: memory
2025-07-15 18:24:04.270 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: disk-space
2025-07-15 18:24:04.270 [main] INFO  d.m.p.d.r.CircuitBreakerManager - Circuit breaker manager initialized with config: dev.mars.peegeeq.db.config.PeeGeeQConfiguration$CircuitBreakerConfig@48b4a043
2025-07-15 18:24:04.270 [main] INFO  d.m.p.d.r.BackpressureManager - Backpressure manager initialized with max concurrent operations: 50, timeout: PT30S
2025-07-15 18:24:04.271 [main] INFO  d.m.p.db.metrics.PeeGeeQMetrics - PeeGeeQ metrics registered for instance: peegeeq-default
2025-07-15 18:24:04.271 [main] INFO  d.m.p.d.p.PgConnectionProvider - Initialized PgConnectionProvider
2025-07-15 18:24:04.271 [main] INFO  d.m.p.db.provider.PgMetricsProvider - Initialized PgMetricsProvider with instance ID: peegeeq-default
2025-07-15 18:24:04.271 [main] INFO  d.m.p.db.provider.PgDatabaseService - Initialized PgDatabaseService
2025-07-15 18:24:04.271 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Registered factory creator for type: native
2025-07-15 18:24:04.271 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Registered factory creator for type: outbox
2025-07-15 18:24:04.271 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Registered built-in factory types: native, outbox
2025-07-15 18:24:04.271 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Initialized PgQueueFactoryProvider with 2 factory types
2025-07-15 18:24:04.271 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - PeeGeeQ Manager initialized successfully
2025-07-15 18:24:04.271 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Starting PeeGeeQ Manager...
2025-07-15 18:24:04.271 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Running database migrations...
2025-07-15 18:24:04.271 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Starting database migration process
2025-07-15 18:24:04.276 [main] DEBUG d.m.p.d.m.SchemaMigrationManager - Loaded migration script: V001
2025-07-15 18:24:04.276 [main] DEBUG d.m.p.d.m.SchemaMigrationManager - Loaded migration script: V002
2025-07-15 18:24:04.277 [main] DEBUG d.m.p.d.m.SchemaMigrationManager - Loaded migration script: V003
2025-07-15 18:24:04.281 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Found 0 pending migrations
2025-07-15 18:24:04.281 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Migration process completed. Applied 0 migrations
2025-07-15 18:24:04.283 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Applied 0 database migrations
2025-07-15 18:24:04.283 [main] INFO  d.m.p.db.health.HealthCheckManager - Health check manager started with interval: PT30S
2025-07-15 18:24:04.283 [peegeeq-health-check] DEBUG d.m.p.db.health.HealthCheckManager - Performing health checks
2025-07-15 18:24:04.283 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Started metrics collection with interval: PT1M
2025-07-15 18:24:04.284 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Started background maintenance tasks
2025-07-15 18:24:04.284 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - PeeGeeQ Manager started successfully
2025-07-15 18:24:04.284 [main] INFO  d.m.p.b.BiTemporalEventStoreFactory - Creating bi-temporal event store for payload type: OrderEvent
2025-07-15 18:24:04.284 [main] INFO  d.m.p.b.PgBiTemporalEventStore - Created bi-temporal event store for payload type: OrderEvent
2025-07-15 18:24:04.286 [main] INFO  d.m.p.e.BiTemporalEventStoreExample - Starting Bi-Temporal Event Store Example
2025-07-15 18:24:04.298 [main] INFO  tc.postgres:15 - Pulling docker image: postgres:15. Please be patient; this may take some time but only needs to be done once.
2025-07-15 18:24:07.967 [docker-java-stream--424423352] INFO  tc.postgres:15 - Starting to pull image
2025-07-15 18:24:07.991 [docker-java-stream--424423352] INFO  tc.postgres:15 - Pulling image layers:  0 pending,  0 downloaded,  0 extracted, (0 bytes/0 bytes)
2025-07-15 18:24:10.624 [docker-java-stream--424423352] INFO  tc.postgres:15 - Pulling image layers: 13 pending,  1 downloaded,  0 extracted, (1 KB/? MB)
2025-07-15 18:24:10.655 [docker-java-stream--424423352] INFO  tc.postgres:15 - Pulling image layers: 13 pending,  1 downloaded,  1 extracted, (1 KB/? MB)
2025-07-15 18:24:12.596 [docker-java-stream--424423352] INFO  tc.postgres:15 - Pulling image layers: 12 pending,  2 downloaded,  1 extracted, (2 MB/? MB)
2025-07-15 18:24:14.565 [docker-java-stream--424423352] INFO  tc.postgres:15 - Pulling image layers: 11 pending,  3 downloaded,  1 extracted, (6 MB/? MB)
2025-07-15 18:24:14.743 [docker-java-stream--424423352] INFO  tc.postgres:15 - Pulling image layers: 11 pending,  3 downloaded,  2 extracted, (6 MB/? MB)
2025-07-15 18:24:14.796 [docker-java-stream--424423352] INFO  tc.postgres:15 - Pulling image layers: 11 pending,  3 downloaded,  3 extracted, (6 MB/? MB)
2025-07-15 18:24:17.575 [docker-java-stream--424423352] INFO  tc.postgres:15 - Pulling image layers: 10 pending,  4 downloaded,  3 extracted, (13 MB/? MB)
2025-07-15 18:24:17.955 [docker-java-stream--424423352] INFO  tc.postgres:15 - Pulling image layers:  9 pending,  5 downloaded,  3 extracted, (13 MB/? MB)
2025-07-15 18:24:18.026 [docker-java-stream--424423352] INFO  tc.postgres:15 - Pulling image layers:  9 pending,  5 downloaded,  4 extracted, (13 MB/? MB)
2025-07-15 18:24:19.259 [docker-java-stream--424423352] INFO  tc.postgres:15 - Pulling image layers:  8 pending,  6 downloaded,  4 extracted, (14 MB/? MB)
2025-07-15 18:24:20.511 [docker-java-stream--424423352] INFO  tc.postgres:15 - Pulling image layers:  8 pending,  6 downloaded,  5 extracted, (14 MB/? MB)
2025-07-15 18:24:20.538 [docker-java-stream--424423352] INFO  tc.postgres:15 - Pulling image layers:  8 pending,  6 downloaded,  6 extracted, (14 MB/? MB)
2025-07-15 18:24:20.560 [docker-java-stream--424423352] INFO  tc.postgres:15 - Pulling image layers:  8 pending,  6 downloaded,  7 extracted, (14 MB/? MB)
2025-07-15 18:24:20.904 [docker-java-stream--424423352] INFO  tc.postgres:15 - Pulling image layers:  7 pending,  7 downloaded,  7 extracted, (15 MB/? MB)
2025-07-15 18:24:22.772 [docker-java-stream--424423352] INFO  tc.postgres:15 - Pulling image layers:  6 pending,  8 downloaded,  7 extracted, (23 MB/? MB)
2025-07-15 18:24:26.946 [docker-java-stream--424423352] INFO  tc.postgres:15 - Pulling image layers:  5 pending,  9 downloaded,  7 extracted, (28 MB/? MB)
2025-07-15 18:24:32.925 [docker-java-stream--424423352] INFO  tc.postgres:15 - Pulling image layers:  4 pending, 10 downloaded,  7 extracted, (34 MB/? MB)
2025-07-15 18:24:34.283 [peegeeq-health-check] DEBUG d.m.p.db.health.HealthCheckManager - Performing health checks
2025-07-15 18:24:45.397 [docker-java-stream--424423352] INFO  tc.postgres:15 - Pulling image layers:  3 pending, 11 downloaded,  7 extracted, (50 MB/? MB)
2025-07-15 18:25:04.284 [peegeeq-health-check] DEBUG d.m.p.db.health.HealthCheckManager - Performing health checks
2025-07-15 18:25:04.292 [peegeeq-manager] DEBUG d.m.p.db.metrics.PeeGeeQMetrics - Persisted metrics to database
2025-07-15 18:25:34.284 [peegeeq-health-check] DEBUG d.m.p.db.health.HealthCheckManager - Performing health checks
2025-07-15 18:25:41.439 [docker-java-stream--424423352] INFO  tc.postgres:15 - Pulling image layers:  2 pending, 12 downloaded,  7 extracted, (118 MB/? MB)
2025-07-15 18:25:44.694 [docker-java-stream--424423352] INFO  tc.postgres:15 - Pulling image layers:  2 pending, 12 downloaded,  8 extracted, (119 MB/? MB)
2025-07-15 18:25:44.727 [docker-java-stream--424423352] INFO  tc.postgres:15 - Pulling image layers:  2 pending, 12 downloaded,  9 extracted, (119 MB/? MB)
2025-07-15 18:25:44.754 [docker-java-stream--424423352] INFO  tc.postgres:15 - Pulling image layers:  2 pending, 12 downloaded, 10 extracted, (119 MB/? MB)
2025-07-15 18:25:44.779 [docker-java-stream--424423352] INFO  tc.postgres:15 - Pulling image layers:  2 pending, 12 downloaded, 11 extracted, (119 MB/? MB)
2025-07-15 18:25:44.799 [docker-java-stream--424423352] INFO  tc.postgres:15 - Pulling image layers:  2 pending, 12 downloaded, 12 extracted, (119 MB/? MB)
2025-07-15 18:25:44.828 [docker-java-stream--424423352] INFO  tc.postgres:15 - Pulling image layers:  2 pending, 12 downloaded, 13 extracted, (119 MB/? MB)
2025-07-15 18:25:44.851 [docker-java-stream--424423352] INFO  tc.postgres:15 - Pull complete. 14 layers, pulled in 96s (downloaded 119 MB at 1 MB/s)
2025-07-15 18:25:44.858 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
2025-07-15 18:25:45.066 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: 11b8510c365a34513cb2539c439f016792d31086f97f102c5800658dfafc1cd9
2025-07-15 18:25:46.332 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT1M42.0457389S
2025-07-15 18:25:46.332 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:54240/peegeeq_test?loggerLevel=OFF)
2025-07-15 18:25:46.332 [main] INFO  d.m.p.e.BiTemporalEventStoreExample - PostgreSQL container started on port: 54240
2025-07-15 18:25:46.332 [main] DEBUG d.m.p.db.config.PeeGeeQConfiguration - Loaded properties from: /peegeeq-default.properties
2025-07-15 18:25:46.333 [main] INFO  d.m.p.db.config.PeeGeeQConfiguration - Configuration validation passed
2025-07-15 18:25:46.333 [main] INFO  d.m.p.db.config.PeeGeeQConfiguration - Loaded PeeGeeQ configuration for profile: default
2025-07-15 18:25:46.333 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Initializing PeeGeeQ Manager with profile: default
2025-07-15 18:25:46.333 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Starting...
2025-07-15 18:25:46.356 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-6 - Added connection org.postgresql.jdbc.PgConnection@3240b2a4
2025-07-15 18:25:46.356 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Start completed.
2025-07-15 18:25:46.357 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: database
2025-07-15 18:25:46.357 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: outbox-queue
2025-07-15 18:25:46.357 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: native-queue
2025-07-15 18:25:46.357 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: dead-letter-queue
2025-07-15 18:25:46.357 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: memory
2025-07-15 18:25:46.357 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: disk-space
2025-07-15 18:25:46.357 [main] INFO  d.m.p.d.r.CircuitBreakerManager - Circuit breaker manager initialized with config: dev.mars.peegeeq.db.config.PeeGeeQConfiguration$CircuitBreakerConfig@4fa9ab6
2025-07-15 18:25:46.357 [main] INFO  d.m.p.d.r.BackpressureManager - Backpressure manager initialized with max concurrent operations: 50, timeout: PT30S
2025-07-15 18:25:46.357 [main] INFO  d.m.p.db.metrics.PeeGeeQMetrics - PeeGeeQ metrics registered for instance: peegeeq-default
2025-07-15 18:25:46.357 [main] INFO  d.m.p.d.p.PgConnectionProvider - Initialized PgConnectionProvider
2025-07-15 18:25:46.357 [main] INFO  d.m.p.db.provider.PgMetricsProvider - Initialized PgMetricsProvider with instance ID: peegeeq-default
2025-07-15 18:25:46.357 [main] INFO  d.m.p.db.provider.PgDatabaseService - Initialized PgDatabaseService
2025-07-15 18:25:46.357 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Registered factory creator for type: native
2025-07-15 18:25:46.357 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Registered factory creator for type: outbox
2025-07-15 18:25:46.357 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Registered built-in factory types: native, outbox
2025-07-15 18:25:46.357 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Initialized PgQueueFactoryProvider with 2 factory types
2025-07-15 18:25:46.357 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - PeeGeeQ Manager initialized successfully
2025-07-15 18:25:46.357 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Starting PeeGeeQ Manager...
2025-07-15 18:25:46.357 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Running database migrations...
2025-07-15 18:25:46.357 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Starting database migration process
2025-07-15 18:25:46.365 [main] DEBUG d.m.p.d.m.SchemaMigrationManager - Loaded migration script: V001
2025-07-15 18:25:46.365 [main] DEBUG d.m.p.d.m.SchemaMigrationManager - Loaded migration script: V002
2025-07-15 18:25:46.366 [main] DEBUG d.m.p.d.m.SchemaMigrationManager - Loaded migration script: V003
2025-07-15 18:25:46.368 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Found 3 pending migrations
2025-07-15 18:25:46.383 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Successfully applied migration: V001
2025-07-15 18:25:46.387 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Successfully applied migration: V002
2025-07-15 18:25:46.399 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Successfully applied migration: V003
2025-07-15 18:25:46.399 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Migration process completed. Applied 3 migrations
2025-07-15 18:25:46.402 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Applied 3 database migrations
2025-07-15 18:25:46.402 [main] INFO  d.m.p.db.health.HealthCheckManager - Health check manager started with interval: PT30S
2025-07-15 18:25:46.402 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Started metrics collection with interval: PT1M
2025-07-15 18:25:46.402 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Started background maintenance tasks
2025-07-15 18:25:46.402 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - PeeGeeQ Manager started successfully
2025-07-15 18:25:46.402 [main] INFO  d.m.p.e.BiTemporalEventStoreExample - PeeGeeQ Manager started successfully
2025-07-15 18:25:46.402 [peegeeq-health-check] DEBUG d.m.p.db.health.HealthCheckManager - Performing health checks
2025-07-15 18:25:46.402 [main] INFO  d.m.p.b.BiTemporalEventStoreFactory - Creating bi-temporal event store for payload type: OrderEvent
2025-07-15 18:25:46.402 [main] INFO  d.m.p.b.PgBiTemporalEventStore - Created bi-temporal event store for payload type: OrderEvent
2025-07-15 18:25:46.403 [ForkJoinPool.commonPool-worker-3] INFO  d.m.p.e.BiTemporalEventStoreExample - === Bi-Temporal Event Store Example ===
2025-07-15 18:25:46.403 [ForkJoinPool.commonPool-worker-3] INFO  d.m.p.e.BiTemporalEventStoreExample - 
1. Appending initial events...
2025-07-15 18:25:46.411 [ForkJoinPool.commonPool-worker-3] DEBUG d.m.p.b.PgBiTemporalEventStore - Successfully appended event: ef3e1e55-c1d6-427e-bf8d-26daa3726b03 of type: OrderCreated
2025-07-15 18:25:46.415 [ForkJoinPool.commonPool-worker-3] DEBUG d.m.p.b.PgBiTemporalEventStore - Successfully appended event: 7d1f00bc-4da5-43af-be5d-2d3d8200c5bc of type: OrderCreated
2025-07-15 18:25:46.415 [ForkJoinPool.commonPool-worker-3] INFO  d.m.p.e.BiTemporalEventStoreExample - Created event 1: ef3e1e55-c1d6-427e-bf8d-26daa3726b03
2025-07-15 18:25:46.415 [ForkJoinPool.commonPool-worker-3] INFO  d.m.p.e.BiTemporalEventStoreExample - Created event 2: 7d1f00bc-4da5-43af-be5d-2d3d8200c5bc
2025-07-15 18:25:46.415 [ForkJoinPool.commonPool-worker-3] INFO  d.m.p.e.BiTemporalEventStoreExample - 
2. Querying all events...
2025-07-15 18:25:46.421 [ForkJoinPool.commonPool-worker-3] DEBUG d.m.p.b.PgBiTemporalEventStore - Query returned 2 events
2025-07-15 18:25:46.421 [ForkJoinPool.commonPool-worker-3] INFO  d.m.p.e.BiTemporalEventStoreExample - Found 2 events:
2025-07-15 18:25:46.421 [ForkJoinPool.commonPool-worker-3] INFO  d.m.p.e.BiTemporalEventStoreExample -   Event: ef3e1e55-c1d6-427e-bf8d-26daa3726b03 - OrderCreated - OrderEvent{orderId='ORDER-001', customerId='CUST-123', amount=99.99, status='CREATED'}
2025-07-15 18:25:46.421 [ForkJoinPool.commonPool-worker-3] INFO  d.m.p.e.BiTemporalEventStoreExample -   Event: 7d1f00bc-4da5-43af-be5d-2d3d8200c5bc - OrderCreated - OrderEvent{orderId='ORDER-002', customerId='CUST-456', amount=149.99, status='CREATED'}
2025-07-15 18:25:46.421 [ForkJoinPool.commonPool-worker-3] INFO  d.m.p.e.BiTemporalEventStoreExample - 
3. Querying by event type...
2025-07-15 18:25:46.423 [ForkJoinPool.commonPool-worker-3] DEBUG d.m.p.b.PgBiTemporalEventStore - Query returned 2 events
2025-07-15 18:25:46.423 [ForkJoinPool.commonPool-worker-3] INFO  d.m.p.e.BiTemporalEventStoreExample - Found 2 OrderCreated events
2025-07-15 18:25:46.423 [ForkJoinPool.commonPool-worker-3] INFO  d.m.p.e.BiTemporalEventStoreExample - 
4. Querying by aggregate...
2025-07-15 18:25:46.425 [ForkJoinPool.commonPool-worker-3] DEBUG d.m.p.b.PgBiTemporalEventStore - Query returned 1 events
2025-07-15 18:25:46.425 [ForkJoinPool.commonPool-worker-3] INFO  d.m.p.e.BiTemporalEventStoreExample - Found 1 events for ORDER-001
2025-07-15 18:25:46.425 [ForkJoinPool.commonPool-worker-3] INFO  d.m.p.e.BiTemporalEventStoreExample - 
5. Adding correction event...
2025-07-15 18:25:46.428 [ForkJoinPool.commonPool-worker-3] DEBUG d.m.p.b.PgBiTemporalEventStore - Successfully appended correction event: 136da373-0a25-49ba-be40-f7dd4d7999db for original: ef3e1e55-c1d6-427e-bf8d-26daa3726b03
2025-07-15 18:25:46.428 [ForkJoinPool.commonPool-worker-3] INFO  d.m.p.e.BiTemporalEventStoreExample - Created correction event: 136da373-0a25-49ba-be40-f7dd4d7999db
2025-07-15 18:25:46.429 [ForkJoinPool.commonPool-worker-3] INFO  d.m.p.e.BiTemporalEventStoreExample - 
6. Getting all versions of ORDER-001 event...
2025-07-15 18:25:46.430 [ForkJoinPool.commonPool-worker-3] INFO  d.m.p.e.BiTemporalEventStoreExample - Found 2 versions:
2025-07-15 18:25:46.430 [ForkJoinPool.commonPool-worker-3] INFO  d.m.p.e.BiTemporalEventStoreExample -   Version 1: 99.99 - Correction: false
2025-07-15 18:25:46.430 [ForkJoinPool.commonPool-worker-3] INFO  d.m.p.e.BiTemporalEventStoreExample -   Version 2: 89.99 - Correction: true
2025-07-15 18:25:46.430 [ForkJoinPool.commonPool-worker-3] INFO  d.m.p.e.BiTemporalEventStoreExample - 
7. Point-in-time query (before correction)...
2025-07-15 18:25:46.432 [ForkJoinPool.commonPool-worker-3] INFO  d.m.p.e.BiTemporalEventStoreExample - Event before correction: ef3e1e55-c1d6-427e-bf8d-26daa3726b03 (amount: 99.99)
2025-07-15 18:25:46.432 [ForkJoinPool.commonPool-worker-3] INFO  d.m.p.e.BiTemporalEventStoreExample - 
8. Temporal range query...
2025-07-15 18:25:46.434 [ForkJoinPool.commonPool-worker-3] DEBUG d.m.p.b.PgBiTemporalEventStore - Query returned 3 events
2025-07-15 18:25:46.434 [ForkJoinPool.commonPool-worker-3] INFO  d.m.p.e.BiTemporalEventStoreExample - Found 3 events in time range:
2025-07-15 18:25:46.434 [ForkJoinPool.commonPool-worker-3] INFO  d.m.p.e.BiTemporalEventStoreExample -   Event: ORDER-001 at 2025-07-15T09:25:46.403445Z
2025-07-15 18:25:46.434 [ForkJoinPool.commonPool-worker-3] INFO  d.m.p.e.BiTemporalEventStoreExample -   Event: ORDER-001 at 2025-07-15T09:25:46.403445Z
2025-07-15 18:25:46.434 [ForkJoinPool.commonPool-worker-3] INFO  d.m.p.e.BiTemporalEventStoreExample -   Event: ORDER-002 at 2025-07-15T09:35:46.403445Z
2025-07-15 18:25:46.434 [ForkJoinPool.commonPool-worker-3] INFO  d.m.p.e.BiTemporalEventStoreExample - 
9. Getting event store statistics...
2025-07-15 18:25:46.435 [ForkJoinPool.commonPool-worker-3] INFO  d.m.p.e.BiTemporalEventStoreExample - Event Store Statistics:
2025-07-15 18:25:46.435 [ForkJoinPool.commonPool-worker-3] INFO  d.m.p.e.BiTemporalEventStoreExample -   Total events: 3
2025-07-15 18:25:46.435 [ForkJoinPool.commonPool-worker-3] INFO  d.m.p.e.BiTemporalEventStoreExample -   Total corrections: 1
2025-07-15 18:25:46.435 [ForkJoinPool.commonPool-worker-3] INFO  d.m.p.e.BiTemporalEventStoreExample -   Event counts by type: {}
2025-07-15 18:25:46.435 [ForkJoinPool.commonPool-worker-3] INFO  d.m.p.e.BiTemporalEventStoreExample -   Oldest event time: 2025-07-15T09:25:46.403445Z
2025-07-15 18:25:46.435 [ForkJoinPool.commonPool-worker-3] INFO  d.m.p.e.BiTemporalEventStoreExample -   Newest event time: 2025-07-15T09:35:46.403445Z
2025-07-15 18:25:46.435 [ForkJoinPool.commonPool-worker-3] INFO  d.m.p.e.BiTemporalEventStoreExample -   Storage size: 0 bytes
2025-07-15 18:25:46.435 [ForkJoinPool.commonPool-worker-3] INFO  d.m.p.e.BiTemporalEventStoreExample - 
=== Bi-Temporal Event Store Example Completed Successfully ===
2025-07-15 18:25:46.436 [main] INFO  d.m.p.b.PgBiTemporalEventStore - Closing bi-temporal event store
2025-07-15 18:25:46.436 [main] INFO  d.m.p.b.PgBiTemporalEventStore - Bi-temporal event store closed
2025-07-15 18:25:46.436 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Stopping PeeGeeQ Manager...
2025-07-15 18:25:46.436 [main] INFO  d.m.p.db.health.HealthCheckManager - Health check manager stopped
2025-07-15 18:25:46.436 [main] DEBUG dev.mars.peegeeq.db.PeeGeeQManager - Scheduled executor terminated gracefully
2025-07-15 18:25:46.437 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - PeeGeeQ Manager stopped successfully
2025-07-15 18:25:46.437 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Shutdown initiated...
2025-07-15 18:25:46.453 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Shutdown completed.
2025-07-15 18:25:46.783 [main] INFO  d.m.p.e.BiTemporalEventStoreExample - Bi-Temporal Event Store Example completed
2025-07-15 18:25:46.784 [main] INFO  d.m.p.b.PgBiTemporalEventStore - Closing bi-temporal event store
2025-07-15 18:25:46.784 [main] INFO  d.m.p.b.PgBiTemporalEventStore - Bi-temporal event store closed
2025-07-15 18:25:46.784 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Stopping PeeGeeQ Manager...
2025-07-15 18:25:46.784 [main] INFO  d.m.p.db.health.HealthCheckManager - Health check manager stopped
2025-07-15 18:25:46.785 [main] DEBUG dev.mars.peegeeq.db.PeeGeeQManager - Scheduled executor terminated gracefully
2025-07-15 18:25:46.785 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - PeeGeeQ Manager stopped successfully
2025-07-15 18:26:59.044 [main] INFO  o.t.utility.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2025-07-15 18:26:59.270 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.NpipeSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2025-07-15 18:26:59.547 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Npipe socket (npipe:////./pipe/docker_engine)
2025-07-15 18:26:59.549 [main] INFO  o.testcontainers.DockerClientFactory - Docker host IP address is localhost
2025-07-15 18:26:59.574 [main] INFO  o.testcontainers.DockerClientFactory - Connected to docker: 
  Server Version: 28.3.0
  API Version: 1.51
  Operating System: Docker Desktop
  Total Memory: 15905 MB
2025-07-15 18:26:59.606 [main] INFO  tc.testcontainers/ryuk:0.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
2025-07-15 18:26:59.865 [main] INFO  tc.testcontainers/ryuk:0.5.1 - Container testcontainers/ryuk:0.5.1 is starting: ec091f224ebb81c3cbcc27aa96e00415d65d8fb103381adc6dd2c385359d2449
2025-07-15 18:27:00.277 [main] INFO  tc.testcontainers/ryuk:0.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.6926675S
2025-07-15 18:27:00.287 [main] INFO  o.t.utility.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2025-07-15 18:27:00.287 [main] INFO  o.testcontainers.DockerClientFactory - Checking the system...
2025-07-15 18:27:00.288 [main] INFO  o.testcontainers.DockerClientFactory - ✔︎ Docker server version should be at least 1.6.0
2025-07-15 18:27:00.289 [main] INFO  tc.postgres:15.13-alpine3.20 - Creating container for image: postgres:15.13-alpine3.20
2025-07-15 18:27:00.351 [main] INFO  tc.postgres:15.13-alpine3.20 - Container postgres:15.13-alpine3.20 is starting: 2ba1fb6ce064b4a5ca1936e047d50d7c2b4957bcbeda4ad0ad439a942c5dc4a9
2025-07-15 18:27:01.975 [main] INFO  tc.postgres:15.13-alpine3.20 - Container postgres:15.13-alpine3.20 started in PT1.68654S
2025-07-15 18:27:01.977 [main] INFO  tc.postgres:15.13-alpine3.20 - Container is started (JDBC URL: jdbc:postgresql://localhost:54265/peegeeq_test?loggerLevel=OFF)
2025-07-15 18:27:02.001 [main] DEBUG d.m.p.db.config.PeeGeeQConfiguration - Loaded properties from: /peegeeq-default.properties
2025-07-15 18:27:02.001 [main] INFO  d.m.p.db.config.PeeGeeQConfiguration - Configuration validation passed
2025-07-15 18:27:02.001 [main] INFO  d.m.p.db.config.PeeGeeQConfiguration - Loaded PeeGeeQ configuration for profile: default
2025-07-15 18:27:02.129 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Initializing PeeGeeQ Manager with profile: default
2025-07-15 18:27:02.140 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-07-15 18:27:02.322 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3db972d2
2025-07-15 18:27:02.324 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-07-15 18:27:02.329 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: database
2025-07-15 18:27:02.329 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: outbox-queue
2025-07-15 18:27:02.330 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: native-queue
2025-07-15 18:27:02.330 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: dead-letter-queue
2025-07-15 18:27:02.331 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: memory
2025-07-15 18:27:02.332 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: disk-space
2025-07-15 18:27:02.350 [main] INFO  d.m.p.d.r.CircuitBreakerManager - Circuit breaker manager initialized with config: dev.mars.peegeeq.db.config.PeeGeeQConfiguration$CircuitBreakerConfig@44b194fe
2025-07-15 18:27:02.352 [main] INFO  d.m.p.d.r.BackpressureManager - Backpressure manager initialized with max concurrent operations: 50, timeout: PT30S
2025-07-15 18:27:02.374 [main] INFO  d.m.p.db.metrics.PeeGeeQMetrics - PeeGeeQ metrics registered for instance: peegeeq-default
2025-07-15 18:27:02.377 [main] INFO  d.m.p.d.p.PgConnectionProvider - Initialized PgConnectionProvider
2025-07-15 18:27:02.378 [main] INFO  d.m.p.db.provider.PgMetricsProvider - Initialized PgMetricsProvider with instance ID: peegeeq-default
2025-07-15 18:27:02.378 [main] INFO  d.m.p.db.provider.PgDatabaseService - Initialized PgDatabaseService
2025-07-15 18:27:02.380 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Registered factory creator for type: native
2025-07-15 18:27:02.381 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Registered factory creator for type: outbox
2025-07-15 18:27:02.381 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Registered built-in factory types: native, outbox
2025-07-15 18:27:02.381 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Initialized PgQueueFactoryProvider with 2 factory types
2025-07-15 18:27:02.381 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - PeeGeeQ Manager initialized successfully
2025-07-15 18:27:02.381 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Starting PeeGeeQ Manager...
2025-07-15 18:27:02.381 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Running database migrations...
2025-07-15 18:27:02.381 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Starting database migration process
2025-07-15 18:27:02.402 [main] DEBUG d.m.p.d.m.SchemaMigrationManager - Loaded migration script: V001
2025-07-15 18:27:02.403 [main] DEBUG d.m.p.d.m.SchemaMigrationManager - Loaded migration script: V002
2025-07-15 18:27:02.404 [main] DEBUG d.m.p.d.m.SchemaMigrationManager - Loaded migration script: V003
2025-07-15 18:27:02.412 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Found 3 pending migrations
2025-07-15 18:27:02.466 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Successfully applied migration: V001
2025-07-15 18:27:02.472 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Successfully applied migration: V002
2025-07-15 18:27:02.500 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Successfully applied migration: V003
2025-07-15 18:27:02.501 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Migration process completed. Applied 3 migrations
2025-07-15 18:27:02.514 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Applied 3 database migrations
2025-07-15 18:27:02.515 [main] INFO  d.m.p.db.health.HealthCheckManager - Health check manager started with interval: PT30S
2025-07-15 18:27:02.515 [peegeeq-health-check] DEBUG d.m.p.db.health.HealthCheckManager - Performing health checks
2025-07-15 18:27:02.516 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Started metrics collection with interval: PT1M
2025-07-15 18:27:02.517 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Started background maintenance tasks
2025-07-15 18:27:02.517 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - PeeGeeQ Manager started successfully
2025-07-15 18:27:02.520 [main] INFO  d.m.p.b.BiTemporalEventStoreFactory - Creating bi-temporal event store for payload type: OrderEvent
2025-07-15 18:27:02.522 [main] INFO  d.m.p.b.PgBiTemporalEventStore - Created bi-temporal event store for payload type: OrderEvent
2025-07-15 18:27:02.603 [ForkJoinPool.commonPool-worker-1] DEBUG d.m.p.b.PgBiTemporalEventStore - Successfully appended event: caef585c-2921-4437-a440-4e26a2463230 of type: OrderCreated
2025-07-15 18:27:02.664 [ForkJoinPool.commonPool-worker-1] DEBUG d.m.p.b.PgBiTemporalEventStore - Query returned 1 events
2025-07-15 18:27:02.668 [main] INFO  d.m.p.b.PgBiTemporalEventStore - Closing bi-temporal event store
2025-07-15 18:27:02.668 [main] INFO  d.m.p.b.PgBiTemporalEventStore - Bi-temporal event store closed
2025-07-15 18:27:02.669 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Stopping PeeGeeQ Manager...
2025-07-15 18:27:02.669 [main] INFO  d.m.p.db.health.HealthCheckManager - Health check manager stopped
2025-07-15 18:27:02.669 [main] DEBUG dev.mars.peegeeq.db.PeeGeeQManager - Scheduled executor terminated gracefully
2025-07-15 18:27:02.670 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - PeeGeeQ Manager stopped successfully
2025-07-15 18:27:02.684 [main] DEBUG d.m.p.db.config.PeeGeeQConfiguration - Loaded properties from: /peegeeq-default.properties
2025-07-15 18:27:02.685 [main] INFO  d.m.p.db.config.PeeGeeQConfiguration - Configuration validation passed
2025-07-15 18:27:02.685 [main] INFO  d.m.p.db.config.PeeGeeQConfiguration - Loaded PeeGeeQ configuration for profile: default
2025-07-15 18:27:02.685 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Initializing PeeGeeQ Manager with profile: default
2025-07-15 18:27:02.685 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2025-07-15 18:27:02.707 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@296e281a
2025-07-15 18:27:02.707 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2025-07-15 18:27:02.707 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: database
2025-07-15 18:27:02.707 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: outbox-queue
2025-07-15 18:27:02.707 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: native-queue
2025-07-15 18:27:02.707 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: dead-letter-queue
2025-07-15 18:27:02.707 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: memory
2025-07-15 18:27:02.707 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: disk-space
2025-07-15 18:27:02.708 [main] INFO  d.m.p.d.r.CircuitBreakerManager - Circuit breaker manager initialized with config: dev.mars.peegeeq.db.config.PeeGeeQConfiguration$CircuitBreakerConfig@7ecec90d
2025-07-15 18:27:02.708 [main] INFO  d.m.p.d.r.BackpressureManager - Backpressure manager initialized with max concurrent operations: 50, timeout: PT30S
2025-07-15 18:27:02.708 [main] INFO  d.m.p.db.metrics.PeeGeeQMetrics - PeeGeeQ metrics registered for instance: peegeeq-default
2025-07-15 18:27:02.708 [main] INFO  d.m.p.d.p.PgConnectionProvider - Initialized PgConnectionProvider
2025-07-15 18:27:02.708 [main] INFO  d.m.p.db.provider.PgMetricsProvider - Initialized PgMetricsProvider with instance ID: peegeeq-default
2025-07-15 18:27:02.708 [main] INFO  d.m.p.db.provider.PgDatabaseService - Initialized PgDatabaseService
2025-07-15 18:27:02.709 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Registered factory creator for type: native
2025-07-15 18:27:02.709 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Registered factory creator for type: outbox
2025-07-15 18:27:02.709 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Registered built-in factory types: native, outbox
2025-07-15 18:27:02.709 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Initialized PgQueueFactoryProvider with 2 factory types
2025-07-15 18:27:02.709 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - PeeGeeQ Manager initialized successfully
2025-07-15 18:27:02.709 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Starting PeeGeeQ Manager...
2025-07-15 18:27:02.709 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Running database migrations...
2025-07-15 18:27:02.709 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Starting database migration process
2025-07-15 18:27:02.715 [main] DEBUG d.m.p.d.m.SchemaMigrationManager - Loaded migration script: V001
2025-07-15 18:27:02.715 [main] DEBUG d.m.p.d.m.SchemaMigrationManager - Loaded migration script: V002
2025-07-15 18:27:02.715 [main] DEBUG d.m.p.d.m.SchemaMigrationManager - Loaded migration script: V003
2025-07-15 18:27:02.718 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Found 0 pending migrations
2025-07-15 18:27:02.719 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Migration process completed. Applied 0 migrations
2025-07-15 18:27:02.720 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Applied 0 database migrations
2025-07-15 18:27:02.720 [main] INFO  d.m.p.db.health.HealthCheckManager - Health check manager started with interval: PT30S
2025-07-15 18:27:02.720 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Started metrics collection with interval: PT1M
2025-07-15 18:27:02.720 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Started background maintenance tasks
2025-07-15 18:27:02.720 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - PeeGeeQ Manager started successfully
2025-07-15 18:27:02.720 [peegeeq-health-check] DEBUG d.m.p.db.health.HealthCheckManager - Performing health checks
2025-07-15 18:27:02.721 [main] INFO  d.m.p.b.BiTemporalEventStoreFactory - Creating bi-temporal event store for payload type: OrderEvent
2025-07-15 18:27:02.721 [main] INFO  d.m.p.b.PgBiTemporalEventStore - Created bi-temporal event store for payload type: OrderEvent
2025-07-15 18:27:02.724 [main] INFO  d.m.p.b.PgBiTemporalEventStore - Closing bi-temporal event store
2025-07-15 18:27:02.724 [main] INFO  d.m.p.b.PgBiTemporalEventStore - Bi-temporal event store closed
2025-07-15 18:27:02.724 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Stopping PeeGeeQ Manager...
2025-07-15 18:27:02.725 [main] INFO  d.m.p.db.health.HealthCheckManager - Health check manager stopped
2025-07-15 18:27:02.726 [main] DEBUG dev.mars.peegeeq.db.PeeGeeQManager - Scheduled executor terminated gracefully
2025-07-15 18:27:02.726 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - PeeGeeQ Manager stopped successfully
2025-07-15 18:27:02.730 [main] DEBUG d.m.p.db.config.PeeGeeQConfiguration - Loaded properties from: /peegeeq-default.properties
2025-07-15 18:27:02.730 [main] INFO  d.m.p.db.config.PeeGeeQConfiguration - Configuration validation passed
2025-07-15 18:27:02.730 [main] INFO  d.m.p.db.config.PeeGeeQConfiguration - Loaded PeeGeeQ configuration for profile: default
2025-07-15 18:27:02.730 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Initializing PeeGeeQ Manager with profile: default
2025-07-15 18:27:02.730 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Starting...
2025-07-15 18:27:02.753 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-3 - Added connection org.postgresql.jdbc.PgConnection@53b7ce6
2025-07-15 18:27:02.754 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Start completed.
2025-07-15 18:27:02.754 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: database
2025-07-15 18:27:02.754 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: outbox-queue
2025-07-15 18:27:02.754 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: native-queue
2025-07-15 18:27:02.754 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: dead-letter-queue
2025-07-15 18:27:02.754 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: memory
2025-07-15 18:27:02.754 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: disk-space
2025-07-15 18:27:02.754 [main] INFO  d.m.p.d.r.CircuitBreakerManager - Circuit breaker manager initialized with config: dev.mars.peegeeq.db.config.PeeGeeQConfiguration$CircuitBreakerConfig@5e7c141d
2025-07-15 18:27:02.754 [main] INFO  d.m.p.d.r.BackpressureManager - Backpressure manager initialized with max concurrent operations: 50, timeout: PT30S
2025-07-15 18:27:02.754 [main] INFO  d.m.p.db.metrics.PeeGeeQMetrics - PeeGeeQ metrics registered for instance: peegeeq-default
2025-07-15 18:27:02.755 [main] INFO  d.m.p.d.p.PgConnectionProvider - Initialized PgConnectionProvider
2025-07-15 18:27:02.755 [main] INFO  d.m.p.db.provider.PgMetricsProvider - Initialized PgMetricsProvider with instance ID: peegeeq-default
2025-07-15 18:27:02.755 [main] INFO  d.m.p.db.provider.PgDatabaseService - Initialized PgDatabaseService
2025-07-15 18:27:02.755 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Registered factory creator for type: native
2025-07-15 18:27:02.755 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Registered factory creator for type: outbox
2025-07-15 18:27:02.755 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Registered built-in factory types: native, outbox
2025-07-15 18:27:02.755 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Initialized PgQueueFactoryProvider with 2 factory types
2025-07-15 18:27:02.755 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - PeeGeeQ Manager initialized successfully
2025-07-15 18:27:02.755 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Starting PeeGeeQ Manager...
2025-07-15 18:27:02.755 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Running database migrations...
2025-07-15 18:27:02.755 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Starting database migration process
2025-07-15 18:27:02.760 [main] DEBUG d.m.p.d.m.SchemaMigrationManager - Loaded migration script: V001
2025-07-15 18:27:02.761 [main] DEBUG d.m.p.d.m.SchemaMigrationManager - Loaded migration script: V002
2025-07-15 18:27:02.761 [main] DEBUG d.m.p.d.m.SchemaMigrationManager - Loaded migration script: V003
2025-07-15 18:27:02.763 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Found 0 pending migrations
2025-07-15 18:27:02.763 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Migration process completed. Applied 0 migrations
2025-07-15 18:27:02.765 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Applied 0 database migrations
2025-07-15 18:27:02.766 [main] INFO  d.m.p.db.health.HealthCheckManager - Health check manager started with interval: PT30S
2025-07-15 18:27:02.766 [peegeeq-health-check] DEBUG d.m.p.db.health.HealthCheckManager - Performing health checks
2025-07-15 18:27:02.766 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Started metrics collection with interval: PT1M
2025-07-15 18:27:02.766 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Started background maintenance tasks
2025-07-15 18:27:02.772 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - PeeGeeQ Manager started successfully
2025-07-15 18:27:02.772 [main] INFO  d.m.p.b.BiTemporalEventStoreFactory - Creating bi-temporal event store for payload type: OrderEvent
2025-07-15 18:27:02.772 [main] INFO  d.m.p.b.PgBiTemporalEventStore - Created bi-temporal event store for payload type: OrderEvent
2025-07-15 18:27:02.786 [ForkJoinPool.commonPool-worker-1] DEBUG d.m.p.b.PgBiTemporalEventStore - Successfully appended event: d8f399ed-8ec4-4d66-805d-30fed23298f8 of type: TemporalTest
2025-07-15 18:27:02.792 [ForkJoinPool.commonPool-worker-1] DEBUG d.m.p.b.PgBiTemporalEventStore - Successfully appended event: a31084cd-6918-4787-b80a-34b2c7397d05 of type: TemporalTest
2025-07-15 18:27:02.795 [ForkJoinPool.commonPool-worker-1] DEBUG d.m.p.b.PgBiTemporalEventStore - Successfully appended event: c3e8cea8-a35e-4dc4-bfc7-85ec3dfa344e of type: TemporalTest
2025-07-15 18:27:02.800 [ForkJoinPool.commonPool-worker-1] DEBUG d.m.p.b.PgBiTemporalEventStore - Query returned 3 events
2025-07-15 18:27:02.806 [main] INFO  d.m.p.b.PgBiTemporalEventStore - Closing bi-temporal event store
2025-07-15 18:27:02.806 [main] INFO  d.m.p.b.PgBiTemporalEventStore - Bi-temporal event store closed
2025-07-15 18:27:02.806 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Stopping PeeGeeQ Manager...
2025-07-15 18:27:02.806 [main] INFO  d.m.p.db.health.HealthCheckManager - Health check manager stopped
2025-07-15 18:27:02.806 [main] DEBUG dev.mars.peegeeq.db.PeeGeeQManager - Scheduled executor terminated gracefully
2025-07-15 18:27:02.807 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - PeeGeeQ Manager stopped successfully
2025-07-15 18:27:02.817 [main] DEBUG d.m.p.db.config.PeeGeeQConfiguration - Loaded properties from: /peegeeq-default.properties
2025-07-15 18:27:02.818 [main] INFO  d.m.p.db.config.PeeGeeQConfiguration - Configuration validation passed
2025-07-15 18:27:02.818 [main] INFO  d.m.p.db.config.PeeGeeQConfiguration - Loaded PeeGeeQ configuration for profile: default
2025-07-15 18:27:02.818 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Initializing PeeGeeQ Manager with profile: default
2025-07-15 18:27:02.818 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Starting...
2025-07-15 18:27:02.840 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-4 - Added connection org.postgresql.jdbc.PgConnection@44cffc25
2025-07-15 18:27:02.840 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Start completed.
2025-07-15 18:27:02.840 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: database
2025-07-15 18:27:02.840 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: outbox-queue
2025-07-15 18:27:02.840 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: native-queue
2025-07-15 18:27:02.840 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: dead-letter-queue
2025-07-15 18:27:02.840 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: memory
2025-07-15 18:27:02.840 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: disk-space
2025-07-15 18:27:02.841 [main] INFO  d.m.p.d.r.CircuitBreakerManager - Circuit breaker manager initialized with config: dev.mars.peegeeq.db.config.PeeGeeQConfiguration$CircuitBreakerConfig@4f89331f
2025-07-15 18:27:02.841 [main] INFO  d.m.p.d.r.BackpressureManager - Backpressure manager initialized with max concurrent operations: 50, timeout: PT30S
2025-07-15 18:27:02.842 [main] INFO  d.m.p.db.metrics.PeeGeeQMetrics - PeeGeeQ metrics registered for instance: peegeeq-default
2025-07-15 18:27:02.842 [main] INFO  d.m.p.d.p.PgConnectionProvider - Initialized PgConnectionProvider
2025-07-15 18:27:02.842 [main] INFO  d.m.p.db.provider.PgMetricsProvider - Initialized PgMetricsProvider with instance ID: peegeeq-default
2025-07-15 18:27:02.842 [main] INFO  d.m.p.db.provider.PgDatabaseService - Initialized PgDatabaseService
2025-07-15 18:27:02.842 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Registered factory creator for type: native
2025-07-15 18:27:02.842 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Registered factory creator for type: outbox
2025-07-15 18:27:02.842 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Registered built-in factory types: native, outbox
2025-07-15 18:27:02.842 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Initialized PgQueueFactoryProvider with 2 factory types
2025-07-15 18:27:02.843 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - PeeGeeQ Manager initialized successfully
2025-07-15 18:27:02.843 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Starting PeeGeeQ Manager...
2025-07-15 18:27:02.843 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Running database migrations...
2025-07-15 18:27:02.843 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Starting database migration process
2025-07-15 18:27:02.848 [main] DEBUG d.m.p.d.m.SchemaMigrationManager - Loaded migration script: V001
2025-07-15 18:27:02.849 [main] DEBUG d.m.p.d.m.SchemaMigrationManager - Loaded migration script: V002
2025-07-15 18:27:02.850 [main] DEBUG d.m.p.d.m.SchemaMigrationManager - Loaded migration script: V003
2025-07-15 18:27:02.853 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Found 0 pending migrations
2025-07-15 18:27:02.854 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Migration process completed. Applied 0 migrations
2025-07-15 18:27:02.856 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Applied 0 database migrations
2025-07-15 18:27:02.857 [main] INFO  d.m.p.db.health.HealthCheckManager - Health check manager started with interval: PT30S
2025-07-15 18:27:02.857 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Started metrics collection with interval: PT1M
2025-07-15 18:27:02.857 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Started background maintenance tasks
2025-07-15 18:27:02.857 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - PeeGeeQ Manager started successfully
2025-07-15 18:27:02.857 [main] INFO  d.m.p.b.BiTemporalEventStoreFactory - Creating bi-temporal event store for payload type: OrderEvent
2025-07-15 18:27:02.857 [main] INFO  d.m.p.b.PgBiTemporalEventStore - Created bi-temporal event store for payload type: OrderEvent
2025-07-15 18:27:02.859 [peegeeq-health-check] DEBUG d.m.p.db.health.HealthCheckManager - Performing health checks
2025-07-15 18:27:02.872 [ForkJoinPool.commonPool-worker-1] DEBUG d.m.p.b.PgBiTemporalEventStore - Successfully appended event: 0474b087-9341-41bb-920e-970105847770 of type: OrderCreated
2025-07-15 18:27:02.877 [ForkJoinPool.commonPool-worker-1] DEBUG d.m.p.b.PgBiTemporalEventStore - Successfully appended event: 8eabfd78-3f85-4276-8bc3-0a966b4be0ab of type: OrderCreated
2025-07-15 18:27:02.886 [ForkJoinPool.commonPool-worker-1] DEBUG d.m.p.b.PgBiTemporalEventStore - Query returned 6 events
2025-07-15 18:27:02.889 [ForkJoinPool.commonPool-worker-1] DEBUG d.m.p.b.PgBiTemporalEventStore - Query returned 3 events
2025-07-15 18:27:02.892 [ForkJoinPool.commonPool-worker-1] DEBUG d.m.p.b.PgBiTemporalEventStore - Query returned 1 events
2025-07-15 18:27:02.897 [ForkJoinPool.commonPool-worker-1] DEBUG d.m.p.b.PgBiTemporalEventStore - Successfully appended correction event: 4afb0a28-08ff-4d13-80fc-e28681b35d55 for original: 0474b087-9341-41bb-920e-970105847770
2025-07-15 18:27:02.907 [main] INFO  d.m.p.b.PgBiTemporalEventStore - Closing bi-temporal event store
2025-07-15 18:27:02.908 [main] INFO  d.m.p.b.PgBiTemporalEventStore - Bi-temporal event store closed
2025-07-15 18:27:02.908 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Stopping PeeGeeQ Manager...
2025-07-15 18:27:02.908 [main] INFO  d.m.p.db.health.HealthCheckManager - Health check manager stopped
2025-07-15 18:27:02.908 [main] DEBUG dev.mars.peegeeq.db.PeeGeeQManager - Scheduled executor terminated gracefully
2025-07-15 18:27:02.908 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - PeeGeeQ Manager stopped successfully
2025-07-15 18:27:02.911 [main] DEBUG d.m.p.db.config.PeeGeeQConfiguration - Loaded properties from: /peegeeq-default.properties
2025-07-15 18:27:02.912 [main] INFO  d.m.p.db.config.PeeGeeQConfiguration - Configuration validation passed
2025-07-15 18:27:02.912 [main] INFO  d.m.p.db.config.PeeGeeQConfiguration - Loaded PeeGeeQ configuration for profile: default
2025-07-15 18:27:02.912 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Initializing PeeGeeQ Manager with profile: default
2025-07-15 18:27:02.912 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Starting...
2025-07-15 18:27:02.929 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-5 - Added connection org.postgresql.jdbc.PgConnection@423b2b62
2025-07-15 18:27:02.930 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Start completed.
2025-07-15 18:27:02.930 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: database
2025-07-15 18:27:02.930 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: outbox-queue
2025-07-15 18:27:02.930 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: native-queue
2025-07-15 18:27:02.930 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: dead-letter-queue
2025-07-15 18:27:02.930 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: memory
2025-07-15 18:27:02.930 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: disk-space
2025-07-15 18:27:02.930 [main] INFO  d.m.p.d.r.CircuitBreakerManager - Circuit breaker manager initialized with config: dev.mars.peegeeq.db.config.PeeGeeQConfiguration$CircuitBreakerConfig@48b4a043
2025-07-15 18:27:02.930 [main] INFO  d.m.p.d.r.BackpressureManager - Backpressure manager initialized with max concurrent operations: 50, timeout: PT30S
2025-07-15 18:27:02.930 [main] INFO  d.m.p.db.metrics.PeeGeeQMetrics - PeeGeeQ metrics registered for instance: peegeeq-default
2025-07-15 18:27:02.930 [main] INFO  d.m.p.d.p.PgConnectionProvider - Initialized PgConnectionProvider
2025-07-15 18:27:02.930 [main] INFO  d.m.p.db.provider.PgMetricsProvider - Initialized PgMetricsProvider with instance ID: peegeeq-default
2025-07-15 18:27:02.930 [main] INFO  d.m.p.db.provider.PgDatabaseService - Initialized PgDatabaseService
2025-07-15 18:27:02.930 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Registered factory creator for type: native
2025-07-15 18:27:02.930 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Registered factory creator for type: outbox
2025-07-15 18:27:02.930 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Registered built-in factory types: native, outbox
2025-07-15 18:27:02.930 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Initialized PgQueueFactoryProvider with 2 factory types
2025-07-15 18:27:02.930 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - PeeGeeQ Manager initialized successfully
2025-07-15 18:27:02.930 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Starting PeeGeeQ Manager...
2025-07-15 18:27:02.930 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Running database migrations...
2025-07-15 18:27:02.930 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Starting database migration process
2025-07-15 18:27:02.933 [main] DEBUG d.m.p.d.m.SchemaMigrationManager - Loaded migration script: V001
2025-07-15 18:27:02.934 [main] DEBUG d.m.p.d.m.SchemaMigrationManager - Loaded migration script: V002
2025-07-15 18:27:02.934 [main] DEBUG d.m.p.d.m.SchemaMigrationManager - Loaded migration script: V003
2025-07-15 18:27:02.938 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Found 0 pending migrations
2025-07-15 18:27:02.938 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Migration process completed. Applied 0 migrations
2025-07-15 18:27:02.939 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Applied 0 database migrations
2025-07-15 18:27:02.940 [main] INFO  d.m.p.db.health.HealthCheckManager - Health check manager started with interval: PT30S
2025-07-15 18:27:02.940 [peegeeq-health-check] DEBUG d.m.p.db.health.HealthCheckManager - Performing health checks
2025-07-15 18:27:02.940 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Started metrics collection with interval: PT1M
2025-07-15 18:27:02.940 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Started background maintenance tasks
2025-07-15 18:27:02.940 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - PeeGeeQ Manager started successfully
2025-07-15 18:27:02.941 [main] INFO  d.m.p.b.BiTemporalEventStoreFactory - Creating bi-temporal event store for payload type: OrderEvent
2025-07-15 18:27:02.941 [main] INFO  d.m.p.b.PgBiTemporalEventStore - Created bi-temporal event store for payload type: OrderEvent
2025-07-15 18:27:02.944 [main] INFO  d.m.p.e.BiTemporalEventStoreExample - Starting Bi-Temporal Event Store Example
2025-07-15 18:27:02.944 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
2025-07-15 18:27:03.022 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: c14c0b87a063b6c3067532011ba51c34aa034a4260f37ee543579b055bd40c09
2025-07-15 18:27:04.344 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT1.400384S
2025-07-15 18:27:04.344 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:54291/peegeeq_test?loggerLevel=OFF)
2025-07-15 18:27:04.345 [main] INFO  d.m.p.e.BiTemporalEventStoreExample - PostgreSQL container started on port: 54291
2025-07-15 18:27:04.345 [main] DEBUG d.m.p.db.config.PeeGeeQConfiguration - Loaded properties from: /peegeeq-default.properties
2025-07-15 18:27:04.346 [main] INFO  d.m.p.db.config.PeeGeeQConfiguration - Configuration validation passed
2025-07-15 18:27:04.346 [main] INFO  d.m.p.db.config.PeeGeeQConfiguration - Loaded PeeGeeQ configuration for profile: default
2025-07-15 18:27:04.346 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Initializing PeeGeeQ Manager with profile: default
2025-07-15 18:27:04.346 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Starting...
2025-07-15 18:27:04.368 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-6 - Added connection org.postgresql.jdbc.PgConnection@3d96fa9e
2025-07-15 18:27:04.368 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Start completed.
2025-07-15 18:27:04.368 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: database
2025-07-15 18:27:04.368 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: outbox-queue
2025-07-15 18:27:04.368 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: native-queue
2025-07-15 18:27:04.368 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: dead-letter-queue
2025-07-15 18:27:04.368 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: memory
2025-07-15 18:27:04.368 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: disk-space
2025-07-15 18:27:04.368 [main] INFO  d.m.p.d.r.CircuitBreakerManager - Circuit breaker manager initialized with config: dev.mars.peegeeq.db.config.PeeGeeQConfiguration$CircuitBreakerConfig@52f57666
2025-07-15 18:27:04.368 [main] INFO  d.m.p.d.r.BackpressureManager - Backpressure manager initialized with max concurrent operations: 50, timeout: PT30S
2025-07-15 18:27:04.368 [main] INFO  d.m.p.db.metrics.PeeGeeQMetrics - PeeGeeQ metrics registered for instance: peegeeq-default
2025-07-15 18:27:04.368 [main] INFO  d.m.p.d.p.PgConnectionProvider - Initialized PgConnectionProvider
2025-07-15 18:27:04.368 [main] INFO  d.m.p.db.provider.PgMetricsProvider - Initialized PgMetricsProvider with instance ID: peegeeq-default
2025-07-15 18:27:04.368 [main] INFO  d.m.p.db.provider.PgDatabaseService - Initialized PgDatabaseService
2025-07-15 18:27:04.368 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Registered factory creator for type: native
2025-07-15 18:27:04.368 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Registered factory creator for type: outbox
2025-07-15 18:27:04.368 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Registered built-in factory types: native, outbox
2025-07-15 18:27:04.370 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Initialized PgQueueFactoryProvider with 2 factory types
2025-07-15 18:27:04.370 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - PeeGeeQ Manager initialized successfully
2025-07-15 18:27:04.370 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Starting PeeGeeQ Manager...
2025-07-15 18:27:04.370 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Running database migrations...
2025-07-15 18:27:04.370 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Starting database migration process
2025-07-15 18:27:04.375 [main] DEBUG d.m.p.d.m.SchemaMigrationManager - Loaded migration script: V001
2025-07-15 18:27:04.376 [main] DEBUG d.m.p.d.m.SchemaMigrationManager - Loaded migration script: V002
2025-07-15 18:27:04.377 [main] DEBUG d.m.p.d.m.SchemaMigrationManager - Loaded migration script: V003
2025-07-15 18:27:04.378 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Found 3 pending migrations
2025-07-15 18:27:04.393 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Successfully applied migration: V001
2025-07-15 18:27:04.397 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Successfully applied migration: V002
2025-07-15 18:27:04.409 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Successfully applied migration: V003
2025-07-15 18:27:04.409 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Migration process completed. Applied 3 migrations
2025-07-15 18:27:04.412 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Applied 3 database migrations
2025-07-15 18:27:04.412 [main] INFO  d.m.p.db.health.HealthCheckManager - Health check manager started with interval: PT30S
2025-07-15 18:27:04.412 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Started metrics collection with interval: PT1M
2025-07-15 18:27:04.412 [peegeeq-health-check] DEBUG d.m.p.db.health.HealthCheckManager - Performing health checks
2025-07-15 18:27:04.412 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Started background maintenance tasks
2025-07-15 18:27:04.412 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - PeeGeeQ Manager started successfully
2025-07-15 18:27:04.412 [main] INFO  d.m.p.e.BiTemporalEventStoreExample - PeeGeeQ Manager started successfully
2025-07-15 18:27:04.412 [main] INFO  d.m.p.b.BiTemporalEventStoreFactory - Creating bi-temporal event store for payload type: OrderEvent
2025-07-15 18:27:04.412 [main] INFO  d.m.p.b.PgBiTemporalEventStore - Created bi-temporal event store for payload type: OrderEvent
2025-07-15 18:27:04.413 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample - === Bi-Temporal Event Store Example ===
2025-07-15 18:27:04.413 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample - 
1. Appending initial events...
2025-07-15 18:27:04.420 [ForkJoinPool.commonPool-worker-1] DEBUG d.m.p.b.PgBiTemporalEventStore - Successfully appended event: bca303c7-955a-4801-8081-d51b68ae7bdb of type: OrderCreated
2025-07-15 18:27:04.424 [ForkJoinPool.commonPool-worker-1] DEBUG d.m.p.b.PgBiTemporalEventStore - Successfully appended event: e650145b-ca50-420b-8491-5a19bc5cb3a9 of type: OrderCreated
2025-07-15 18:27:04.424 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample - Created event 1: bca303c7-955a-4801-8081-d51b68ae7bdb
2025-07-15 18:27:04.424 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample - Created event 2: e650145b-ca50-420b-8491-5a19bc5cb3a9
2025-07-15 18:27:04.424 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample - 
2. Querying all events...
2025-07-15 18:27:04.428 [ForkJoinPool.commonPool-worker-1] DEBUG d.m.p.b.PgBiTemporalEventStore - Query returned 2 events
2025-07-15 18:27:04.428 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample - Found 2 events:
2025-07-15 18:27:04.429 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample -   Event: bca303c7-955a-4801-8081-d51b68ae7bdb - OrderCreated - OrderEvent{orderId='ORDER-001', customerId='CUST-123', amount=99.99, status='CREATED'}
2025-07-15 18:27:04.429 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample -   Event: e650145b-ca50-420b-8491-5a19bc5cb3a9 - OrderCreated - OrderEvent{orderId='ORDER-002', customerId='CUST-456', amount=149.99, status='CREATED'}
2025-07-15 18:27:04.429 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample - 
3. Querying by event type...
2025-07-15 18:27:04.431 [ForkJoinPool.commonPool-worker-1] DEBUG d.m.p.b.PgBiTemporalEventStore - Query returned 2 events
2025-07-15 18:27:04.431 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample - Found 2 OrderCreated events
2025-07-15 18:27:04.431 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample - 
4. Querying by aggregate...
2025-07-15 18:27:04.432 [ForkJoinPool.commonPool-worker-1] DEBUG d.m.p.b.PgBiTemporalEventStore - Query returned 1 events
2025-07-15 18:27:04.432 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample - Found 1 events for ORDER-001
2025-07-15 18:27:04.432 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample - 
5. Adding correction event...
2025-07-15 18:27:04.436 [ForkJoinPool.commonPool-worker-1] DEBUG d.m.p.b.PgBiTemporalEventStore - Successfully appended correction event: 53f10a18-7eb3-4217-9415-5f2ca80e99f4 for original: bca303c7-955a-4801-8081-d51b68ae7bdb
2025-07-15 18:27:04.436 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample - Created correction event: 53f10a18-7eb3-4217-9415-5f2ca80e99f4
2025-07-15 18:27:04.436 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample - 
6. Getting all versions of ORDER-001 event...
2025-07-15 18:27:04.438 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample - Found 2 versions:
2025-07-15 18:27:04.438 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample -   Version 1: 99.99 - Correction: false
2025-07-15 18:27:04.438 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample -   Version 2: 89.99 - Correction: true
2025-07-15 18:27:04.438 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample - 
7. Point-in-time query (before correction)...
2025-07-15 18:27:04.440 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample - Event before correction: bca303c7-955a-4801-8081-d51b68ae7bdb (amount: 99.99)
2025-07-15 18:27:04.440 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample - 
8. Temporal range query...
2025-07-15 18:27:04.443 [ForkJoinPool.commonPool-worker-1] DEBUG d.m.p.b.PgBiTemporalEventStore - Query returned 3 events
2025-07-15 18:27:04.443 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample - Found 3 events in time range:
2025-07-15 18:27:04.443 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample -   Event: ORDER-001 at 2025-07-15T09:27:04.413748Z
2025-07-15 18:27:04.443 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample -   Event: ORDER-001 at 2025-07-15T09:27:04.413748Z
2025-07-15 18:27:04.444 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample -   Event: ORDER-002 at 2025-07-15T09:37:04.413748Z
2025-07-15 18:27:04.444 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample - 
9. Getting event store statistics...
2025-07-15 18:27:04.445 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample - Event Store Statistics:
2025-07-15 18:27:04.445 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample -   Total events: 3
2025-07-15 18:27:04.445 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample -   Total corrections: 1
2025-07-15 18:27:04.445 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample -   Event counts by type: {}
2025-07-15 18:27:04.445 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample -   Oldest event time: 2025-07-15T09:27:04.413748Z
2025-07-15 18:27:04.445 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample -   Newest event time: 2025-07-15T09:37:04.413748Z
2025-07-15 18:27:04.445 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample -   Storage size: 0 bytes
2025-07-15 18:27:04.446 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample - 
=== Bi-Temporal Event Store Example Completed Successfully ===
2025-07-15 18:27:04.446 [main] INFO  d.m.p.b.PgBiTemporalEventStore - Closing bi-temporal event store
2025-07-15 18:27:04.446 [main] INFO  d.m.p.b.PgBiTemporalEventStore - Bi-temporal event store closed
2025-07-15 18:27:04.446 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Stopping PeeGeeQ Manager...
2025-07-15 18:27:04.446 [main] INFO  d.m.p.db.health.HealthCheckManager - Health check manager stopped
2025-07-15 18:27:04.447 [main] DEBUG dev.mars.peegeeq.db.PeeGeeQManager - Scheduled executor terminated gracefully
2025-07-15 18:27:04.447 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - PeeGeeQ Manager stopped successfully
2025-07-15 18:27:04.447 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Shutdown initiated...
2025-07-15 18:27:04.462 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Shutdown completed.
2025-07-15 18:27:04.766 [main] INFO  d.m.p.e.BiTemporalEventStoreExample - Bi-Temporal Event Store Example completed
2025-07-15 18:27:04.766 [main] INFO  d.m.p.b.PgBiTemporalEventStore - Closing bi-temporal event store
2025-07-15 18:27:04.766 [main] INFO  d.m.p.b.PgBiTemporalEventStore - Bi-temporal event store closed
2025-07-15 18:27:04.766 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Stopping PeeGeeQ Manager...
2025-07-15 18:27:04.766 [main] INFO  d.m.p.db.health.HealthCheckManager - Health check manager stopped
2025-07-15 18:27:04.767 [main] DEBUG dev.mars.peegeeq.db.PeeGeeQManager - Scheduled executor terminated gracefully
2025-07-15 18:27:04.767 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - PeeGeeQ Manager stopped successfully
2025-07-15 18:28:01.744 [main] INFO  o.t.utility.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2025-07-15 18:28:01.967 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.NpipeSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2025-07-15 18:28:02.204 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Npipe socket (npipe:////./pipe/docker_engine)
2025-07-15 18:28:02.205 [main] INFO  o.testcontainers.DockerClientFactory - Docker host IP address is localhost
2025-07-15 18:28:02.231 [main] INFO  o.testcontainers.DockerClientFactory - Connected to docker: 
  Server Version: 28.3.0
  API Version: 1.51
  Operating System: Docker Desktop
  Total Memory: 15905 MB
2025-07-15 18:28:02.260 [main] INFO  tc.testcontainers/ryuk:0.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
2025-07-15 18:28:02.508 [main] INFO  tc.testcontainers/ryuk:0.5.1 - Container testcontainers/ryuk:0.5.1 is starting: 23c8de022e5fe4d7cce797b95e13207cfbb05fa3c9d43d3bda1229a1f00e5c28
2025-07-15 18:28:02.857 [main] INFO  tc.testcontainers/ryuk:0.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.6147546S
2025-07-15 18:28:02.866 [main] INFO  o.t.utility.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2025-07-15 18:28:02.867 [main] INFO  o.testcontainers.DockerClientFactory - Checking the system...
2025-07-15 18:28:02.868 [main] INFO  o.testcontainers.DockerClientFactory - ✔︎ Docker server version should be at least 1.6.0
2025-07-15 18:28:02.870 [main] INFO  tc.postgres:15.13-alpine3.20 - Creating container for image: postgres:15.13-alpine3.20
2025-07-15 18:28:02.919 [main] INFO  tc.postgres:15.13-alpine3.20 - Container postgres:15.13-alpine3.20 is starting: 723a36acc6e80845b7a26fcafb96d0ff13d95758bbe77b6168ed5df83e81f70f
2025-07-15 18:28:04.282 [main] INFO  tc.postgres:15.13-alpine3.20 - Container postgres:15.13-alpine3.20 started in PT1.4123068S
2025-07-15 18:28:04.283 [main] INFO  tc.postgres:15.13-alpine3.20 - Container is started (JDBC URL: jdbc:postgresql://localhost:54309/peegeeq_test?loggerLevel=OFF)
2025-07-15 18:28:04.306 [main] DEBUG d.m.p.db.config.PeeGeeQConfiguration - Loaded properties from: /peegeeq-default.properties
2025-07-15 18:28:04.307 [main] INFO  d.m.p.db.config.PeeGeeQConfiguration - Configuration validation passed
2025-07-15 18:28:04.308 [main] INFO  d.m.p.db.config.PeeGeeQConfiguration - Loaded PeeGeeQ configuration for profile: default
2025-07-15 18:28:04.423 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Initializing PeeGeeQ Manager with profile: default
2025-07-15 18:28:04.434 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-07-15 18:28:04.615 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@15b82644
2025-07-15 18:28:04.617 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-07-15 18:28:04.623 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: database
2025-07-15 18:28:04.623 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: outbox-queue
2025-07-15 18:28:04.624 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: native-queue
2025-07-15 18:28:04.625 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: dead-letter-queue
2025-07-15 18:28:04.626 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: memory
2025-07-15 18:28:04.626 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: disk-space
2025-07-15 18:28:04.642 [main] INFO  d.m.p.d.r.CircuitBreakerManager - Circuit breaker manager initialized with config: dev.mars.peegeeq.db.config.PeeGeeQConfiguration$CircuitBreakerConfig@3bddc676
2025-07-15 18:28:04.644 [main] INFO  d.m.p.d.r.BackpressureManager - Backpressure manager initialized with max concurrent operations: 50, timeout: PT30S
2025-07-15 18:28:04.661 [main] INFO  d.m.p.db.metrics.PeeGeeQMetrics - PeeGeeQ metrics registered for instance: peegeeq-default
2025-07-15 18:28:04.663 [main] INFO  d.m.p.d.p.PgConnectionProvider - Initialized PgConnectionProvider
2025-07-15 18:28:04.666 [main] INFO  d.m.p.db.provider.PgMetricsProvider - Initialized PgMetricsProvider with instance ID: peegeeq-default
2025-07-15 18:28:04.666 [main] INFO  d.m.p.db.provider.PgDatabaseService - Initialized PgDatabaseService
2025-07-15 18:28:04.668 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Registered factory creator for type: native
2025-07-15 18:28:04.669 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Registered factory creator for type: outbox
2025-07-15 18:28:04.669 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Registered built-in factory types: native, outbox
2025-07-15 18:28:04.669 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Initialized PgQueueFactoryProvider with 2 factory types
2025-07-15 18:28:04.669 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - PeeGeeQ Manager initialized successfully
2025-07-15 18:28:04.669 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Starting PeeGeeQ Manager...
2025-07-15 18:28:04.669 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Running database migrations...
2025-07-15 18:28:04.669 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Starting database migration process
2025-07-15 18:28:04.685 [main] DEBUG d.m.p.d.m.SchemaMigrationManager - Loaded migration script: V001
2025-07-15 18:28:04.686 [main] DEBUG d.m.p.d.m.SchemaMigrationManager - Loaded migration script: V002
2025-07-15 18:28:04.687 [main] DEBUG d.m.p.d.m.SchemaMigrationManager - Loaded migration script: V003
2025-07-15 18:28:04.692 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Found 3 pending migrations
2025-07-15 18:28:04.734 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Successfully applied migration: V001
2025-07-15 18:28:04.740 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Successfully applied migration: V002
2025-07-15 18:28:04.761 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Successfully applied migration: V003
2025-07-15 18:28:04.762 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Migration process completed. Applied 3 migrations
2025-07-15 18:28:04.775 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Applied 3 database migrations
2025-07-15 18:28:04.776 [main] INFO  d.m.p.db.health.HealthCheckManager - Health check manager started with interval: PT30S
2025-07-15 18:28:04.776 [peegeeq-health-check] DEBUG d.m.p.db.health.HealthCheckManager - Performing health checks
2025-07-15 18:28:04.777 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Started metrics collection with interval: PT1M
2025-07-15 18:28:04.778 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Started background maintenance tasks
2025-07-15 18:28:04.779 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - PeeGeeQ Manager started successfully
2025-07-15 18:28:04.782 [main] INFO  d.m.p.b.BiTemporalEventStoreFactory - Creating bi-temporal event store for payload type: OrderEvent
2025-07-15 18:28:04.784 [main] INFO  d.m.p.b.PgBiTemporalEventStore - Created bi-temporal event store for payload type: OrderEvent
2025-07-15 18:28:04.867 [ForkJoinPool.commonPool-worker-1] DEBUG d.m.p.b.PgBiTemporalEventStore - Successfully appended event: df1b2959-f4c9-434c-aa54-8b75d36aa9ff of type: OrderCreated
2025-07-15 18:28:04.924 [ForkJoinPool.commonPool-worker-1] DEBUG d.m.p.b.PgBiTemporalEventStore - Query returned 1 events
2025-07-15 18:28:04.927 [main] INFO  d.m.p.b.PgBiTemporalEventStore - Closing bi-temporal event store
2025-07-15 18:28:04.927 [main] INFO  d.m.p.b.PgBiTemporalEventStore - Bi-temporal event store closed
2025-07-15 18:28:04.927 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Stopping PeeGeeQ Manager...
2025-07-15 18:28:04.927 [main] INFO  d.m.p.db.health.HealthCheckManager - Health check manager stopped
2025-07-15 18:28:04.928 [main] DEBUG dev.mars.peegeeq.db.PeeGeeQManager - Scheduled executor terminated gracefully
2025-07-15 18:28:04.928 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - PeeGeeQ Manager stopped successfully
2025-07-15 18:28:04.942 [main] DEBUG d.m.p.db.config.PeeGeeQConfiguration - Loaded properties from: /peegeeq-default.properties
2025-07-15 18:28:04.942 [main] INFO  d.m.p.db.config.PeeGeeQConfiguration - Configuration validation passed
2025-07-15 18:28:04.942 [main] INFO  d.m.p.db.config.PeeGeeQConfiguration - Loaded PeeGeeQ configuration for profile: default
2025-07-15 18:28:04.943 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Initializing PeeGeeQ Manager with profile: default
2025-07-15 18:28:04.943 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2025-07-15 18:28:04.964 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@70887727
2025-07-15 18:28:04.964 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2025-07-15 18:28:04.965 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: database
2025-07-15 18:28:04.965 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: outbox-queue
2025-07-15 18:28:04.965 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: native-queue
2025-07-15 18:28:04.965 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: dead-letter-queue
2025-07-15 18:28:04.965 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: memory
2025-07-15 18:28:04.965 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: disk-space
2025-07-15 18:28:04.965 [main] INFO  d.m.p.d.r.CircuitBreakerManager - Circuit breaker manager initialized with config: dev.mars.peegeeq.db.config.PeeGeeQConfiguration$CircuitBreakerConfig@75de29c0
2025-07-15 18:28:04.965 [main] INFO  d.m.p.d.r.BackpressureManager - Backpressure manager initialized with max concurrent operations: 50, timeout: PT30S
2025-07-15 18:28:04.965 [main] INFO  d.m.p.db.metrics.PeeGeeQMetrics - PeeGeeQ metrics registered for instance: peegeeq-default
2025-07-15 18:28:04.965 [main] INFO  d.m.p.d.p.PgConnectionProvider - Initialized PgConnectionProvider
2025-07-15 18:28:04.965 [main] INFO  d.m.p.db.provider.PgMetricsProvider - Initialized PgMetricsProvider with instance ID: peegeeq-default
2025-07-15 18:28:04.965 [main] INFO  d.m.p.db.provider.PgDatabaseService - Initialized PgDatabaseService
2025-07-15 18:28:04.965 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Registered factory creator for type: native
2025-07-15 18:28:04.965 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Registered factory creator for type: outbox
2025-07-15 18:28:04.965 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Registered built-in factory types: native, outbox
2025-07-15 18:28:04.965 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Initialized PgQueueFactoryProvider with 2 factory types
2025-07-15 18:28:04.965 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - PeeGeeQ Manager initialized successfully
2025-07-15 18:28:04.965 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Starting PeeGeeQ Manager...
2025-07-15 18:28:04.965 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Running database migrations...
2025-07-15 18:28:04.965 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Starting database migration process
2025-07-15 18:28:04.970 [main] DEBUG d.m.p.d.m.SchemaMigrationManager - Loaded migration script: V001
2025-07-15 18:28:04.970 [main] DEBUG d.m.p.d.m.SchemaMigrationManager - Loaded migration script: V002
2025-07-15 18:28:04.971 [main] DEBUG d.m.p.d.m.SchemaMigrationManager - Loaded migration script: V003
2025-07-15 18:28:04.974 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Found 0 pending migrations
2025-07-15 18:28:04.975 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Migration process completed. Applied 0 migrations
2025-07-15 18:28:04.977 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Applied 0 database migrations
2025-07-15 18:28:04.977 [main] INFO  d.m.p.db.health.HealthCheckManager - Health check manager started with interval: PT30S
2025-07-15 18:28:04.977 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Started metrics collection with interval: PT1M
2025-07-15 18:28:04.977 [peegeeq-health-check] DEBUG d.m.p.db.health.HealthCheckManager - Performing health checks
2025-07-15 18:28:04.977 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Started background maintenance tasks
2025-07-15 18:28:04.977 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - PeeGeeQ Manager started successfully
2025-07-15 18:28:04.977 [main] INFO  d.m.p.b.BiTemporalEventStoreFactory - Creating bi-temporal event store for payload type: OrderEvent
2025-07-15 18:28:04.977 [main] INFO  d.m.p.b.PgBiTemporalEventStore - Created bi-temporal event store for payload type: OrderEvent
2025-07-15 18:28:04.980 [main] INFO  d.m.p.b.PgBiTemporalEventStore - Closing bi-temporal event store
2025-07-15 18:28:04.980 [main] INFO  d.m.p.b.PgBiTemporalEventStore - Bi-temporal event store closed
2025-07-15 18:28:04.980 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Stopping PeeGeeQ Manager...
2025-07-15 18:28:04.982 [main] INFO  d.m.p.db.health.HealthCheckManager - Health check manager stopped
2025-07-15 18:28:04.982 [main] DEBUG dev.mars.peegeeq.db.PeeGeeQManager - Scheduled executor terminated gracefully
2025-07-15 18:28:04.983 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - PeeGeeQ Manager stopped successfully
2025-07-15 18:28:04.987 [main] DEBUG d.m.p.db.config.PeeGeeQConfiguration - Loaded properties from: /peegeeq-default.properties
2025-07-15 18:28:04.987 [main] INFO  d.m.p.db.config.PeeGeeQConfiguration - Configuration validation passed
2025-07-15 18:28:04.987 [main] INFO  d.m.p.db.config.PeeGeeQConfiguration - Loaded PeeGeeQ configuration for profile: default
2025-07-15 18:28:04.987 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Initializing PeeGeeQ Manager with profile: default
2025-07-15 18:28:04.988 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Starting...
2025-07-15 18:28:05.010 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-3 - Added connection org.postgresql.jdbc.PgConnection@7724704f
2025-07-15 18:28:05.010 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Start completed.
2025-07-15 18:28:05.010 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: database
2025-07-15 18:28:05.010 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: outbox-queue
2025-07-15 18:28:05.010 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: native-queue
2025-07-15 18:28:05.010 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: dead-letter-queue
2025-07-15 18:28:05.010 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: memory
2025-07-15 18:28:05.010 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: disk-space
2025-07-15 18:28:05.011 [main] INFO  d.m.p.d.r.CircuitBreakerManager - Circuit breaker manager initialized with config: dev.mars.peegeeq.db.config.PeeGeeQConfiguration$CircuitBreakerConfig@74ecacc3
2025-07-15 18:28:05.011 [main] INFO  d.m.p.d.r.BackpressureManager - Backpressure manager initialized with max concurrent operations: 50, timeout: PT30S
2025-07-15 18:28:05.011 [main] INFO  d.m.p.db.metrics.PeeGeeQMetrics - PeeGeeQ metrics registered for instance: peegeeq-default
2025-07-15 18:28:05.011 [main] INFO  d.m.p.d.p.PgConnectionProvider - Initialized PgConnectionProvider
2025-07-15 18:28:05.011 [main] INFO  d.m.p.db.provider.PgMetricsProvider - Initialized PgMetricsProvider with instance ID: peegeeq-default
2025-07-15 18:28:05.012 [main] INFO  d.m.p.db.provider.PgDatabaseService - Initialized PgDatabaseService
2025-07-15 18:28:05.012 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Registered factory creator for type: native
2025-07-15 18:28:05.012 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Registered factory creator for type: outbox
2025-07-15 18:28:05.012 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Registered built-in factory types: native, outbox
2025-07-15 18:28:05.012 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Initialized PgQueueFactoryProvider with 2 factory types
2025-07-15 18:28:05.012 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - PeeGeeQ Manager initialized successfully
2025-07-15 18:28:05.012 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Starting PeeGeeQ Manager...
2025-07-15 18:28:05.012 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Running database migrations...
2025-07-15 18:28:05.012 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Starting database migration process
2025-07-15 18:28:05.017 [main] DEBUG d.m.p.d.m.SchemaMigrationManager - Loaded migration script: V001
2025-07-15 18:28:05.018 [main] DEBUG d.m.p.d.m.SchemaMigrationManager - Loaded migration script: V002
2025-07-15 18:28:05.018 [main] DEBUG d.m.p.d.m.SchemaMigrationManager - Loaded migration script: V003
2025-07-15 18:28:05.021 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Found 0 pending migrations
2025-07-15 18:28:05.021 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Migration process completed. Applied 0 migrations
2025-07-15 18:28:05.023 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Applied 0 database migrations
2025-07-15 18:28:05.024 [main] INFO  d.m.p.db.health.HealthCheckManager - Health check manager started with interval: PT30S
2025-07-15 18:28:05.024 [peegeeq-health-check] DEBUG d.m.p.db.health.HealthCheckManager - Performing health checks
2025-07-15 18:28:05.024 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Started metrics collection with interval: PT1M
2025-07-15 18:28:05.024 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Started background maintenance tasks
2025-07-15 18:28:05.024 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - PeeGeeQ Manager started successfully
2025-07-15 18:28:05.029 [main] INFO  d.m.p.b.BiTemporalEventStoreFactory - Creating bi-temporal event store for payload type: OrderEvent
2025-07-15 18:28:05.030 [main] INFO  d.m.p.b.PgBiTemporalEventStore - Created bi-temporal event store for payload type: OrderEvent
2025-07-15 18:28:05.041 [ForkJoinPool.commonPool-worker-1] DEBUG d.m.p.b.PgBiTemporalEventStore - Successfully appended event: 6110e6ac-508f-4f0e-8a24-989bdfc19f32 of type: TemporalTest
2025-07-15 18:28:05.047 [ForkJoinPool.commonPool-worker-1] DEBUG d.m.p.b.PgBiTemporalEventStore - Successfully appended event: cab2281c-58e4-4586-a17e-8ef8374a0df4 of type: TemporalTest
2025-07-15 18:28:05.057 [ForkJoinPool.commonPool-worker-1] DEBUG d.m.p.b.PgBiTemporalEventStore - Successfully appended event: 874942de-729e-44fc-884a-db121ceef63d of type: TemporalTest
2025-07-15 18:28:05.065 [ForkJoinPool.commonPool-worker-1] DEBUG d.m.p.b.PgBiTemporalEventStore - Query returned 1 events
2025-07-15 18:28:05.065 [main] INFO  d.m.p.b.PgBiTemporalEventStore - Closing bi-temporal event store
2025-07-15 18:28:05.065 [main] INFO  d.m.p.b.PgBiTemporalEventStore - Bi-temporal event store closed
2025-07-15 18:28:05.066 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Stopping PeeGeeQ Manager...
2025-07-15 18:28:05.066 [main] INFO  d.m.p.db.health.HealthCheckManager - Health check manager stopped
2025-07-15 18:28:05.066 [main] DEBUG dev.mars.peegeeq.db.PeeGeeQManager - Scheduled executor terminated gracefully
2025-07-15 18:28:05.067 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - PeeGeeQ Manager stopped successfully
2025-07-15 18:28:05.070 [main] DEBUG d.m.p.db.config.PeeGeeQConfiguration - Loaded properties from: /peegeeq-default.properties
2025-07-15 18:28:05.070 [main] INFO  d.m.p.db.config.PeeGeeQConfiguration - Configuration validation passed
2025-07-15 18:28:05.070 [main] INFO  d.m.p.db.config.PeeGeeQConfiguration - Loaded PeeGeeQ configuration for profile: default
2025-07-15 18:28:05.071 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Initializing PeeGeeQ Manager with profile: default
2025-07-15 18:28:05.072 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Starting...
2025-07-15 18:28:05.091 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-4 - Added connection org.postgresql.jdbc.PgConnection@119aa36
2025-07-15 18:28:05.092 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Start completed.
2025-07-15 18:28:05.092 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: database
2025-07-15 18:28:05.092 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: outbox-queue
2025-07-15 18:28:05.092 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: native-queue
2025-07-15 18:28:05.092 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: dead-letter-queue
2025-07-15 18:28:05.092 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: memory
2025-07-15 18:28:05.092 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: disk-space
2025-07-15 18:28:05.092 [main] INFO  d.m.p.d.r.CircuitBreakerManager - Circuit breaker manager initialized with config: dev.mars.peegeeq.db.config.PeeGeeQConfiguration$CircuitBreakerConfig@102c577f
2025-07-15 18:28:05.092 [main] INFO  d.m.p.d.r.BackpressureManager - Backpressure manager initialized with max concurrent operations: 50, timeout: PT30S
2025-07-15 18:28:05.093 [main] INFO  d.m.p.db.metrics.PeeGeeQMetrics - PeeGeeQ metrics registered for instance: peegeeq-default
2025-07-15 18:28:05.093 [main] INFO  d.m.p.d.p.PgConnectionProvider - Initialized PgConnectionProvider
2025-07-15 18:28:05.093 [main] INFO  d.m.p.db.provider.PgMetricsProvider - Initialized PgMetricsProvider with instance ID: peegeeq-default
2025-07-15 18:28:05.093 [main] INFO  d.m.p.db.provider.PgDatabaseService - Initialized PgDatabaseService
2025-07-15 18:28:05.093 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Registered factory creator for type: native
2025-07-15 18:28:05.093 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Registered factory creator for type: outbox
2025-07-15 18:28:05.093 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Registered built-in factory types: native, outbox
2025-07-15 18:28:05.093 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Initialized PgQueueFactoryProvider with 2 factory types
2025-07-15 18:28:05.093 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - PeeGeeQ Manager initialized successfully
2025-07-15 18:28:05.093 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Starting PeeGeeQ Manager...
2025-07-15 18:28:05.093 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Running database migrations...
2025-07-15 18:28:05.093 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Starting database migration process
2025-07-15 18:28:05.097 [main] DEBUG d.m.p.d.m.SchemaMigrationManager - Loaded migration script: V001
2025-07-15 18:28:05.097 [main] DEBUG d.m.p.d.m.SchemaMigrationManager - Loaded migration script: V002
2025-07-15 18:28:05.097 [main] DEBUG d.m.p.d.m.SchemaMigrationManager - Loaded migration script: V003
2025-07-15 18:28:05.101 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Found 0 pending migrations
2025-07-15 18:28:05.101 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Migration process completed. Applied 0 migrations
2025-07-15 18:28:05.103 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Applied 0 database migrations
2025-07-15 18:28:05.103 [main] INFO  d.m.p.db.health.HealthCheckManager - Health check manager started with interval: PT30S
2025-07-15 18:28:05.104 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Started metrics collection with interval: PT1M
2025-07-15 18:28:05.104 [peegeeq-health-check] DEBUG d.m.p.db.health.HealthCheckManager - Performing health checks
2025-07-15 18:28:05.104 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Started background maintenance tasks
2025-07-15 18:28:05.104 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - PeeGeeQ Manager started successfully
2025-07-15 18:28:05.104 [main] INFO  d.m.p.b.BiTemporalEventStoreFactory - Creating bi-temporal event store for payload type: OrderEvent
2025-07-15 18:28:05.104 [main] INFO  d.m.p.b.PgBiTemporalEventStore - Created bi-temporal event store for payload type: OrderEvent
2025-07-15 18:28:05.115 [ForkJoinPool.commonPool-worker-1] DEBUG d.m.p.b.PgBiTemporalEventStore - Successfully appended event: e08ea67c-8f6e-44e8-9109-6ededfd11e8f of type: OrderCreated
2025-07-15 18:28:05.121 [ForkJoinPool.commonPool-worker-1] DEBUG d.m.p.b.PgBiTemporalEventStore - Successfully appended event: a7880578-0088-423f-a332-7fc07af5c0ef of type: OrderCreated
2025-07-15 18:28:05.133 [ForkJoinPool.commonPool-worker-1] DEBUG d.m.p.b.PgBiTemporalEventStore - Query returned 6 events
2025-07-15 18:28:05.137 [ForkJoinPool.commonPool-worker-1] DEBUG d.m.p.b.PgBiTemporalEventStore - Query returned 3 events
2025-07-15 18:28:05.139 [ForkJoinPool.commonPool-worker-1] DEBUG d.m.p.b.PgBiTemporalEventStore - Query returned 1 events
2025-07-15 18:28:05.145 [ForkJoinPool.commonPool-worker-1] DEBUG d.m.p.b.PgBiTemporalEventStore - Successfully appended correction event: 12b19ba0-97be-4695-822c-865f22528087 for original: e08ea67c-8f6e-44e8-9109-6ededfd11e8f
2025-07-15 18:28:05.154 [main] INFO  d.m.p.b.PgBiTemporalEventStore - Closing bi-temporal event store
2025-07-15 18:28:05.155 [main] INFO  d.m.p.b.PgBiTemporalEventStore - Bi-temporal event store closed
2025-07-15 18:28:05.155 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Stopping PeeGeeQ Manager...
2025-07-15 18:28:05.155 [main] INFO  d.m.p.db.health.HealthCheckManager - Health check manager stopped
2025-07-15 18:28:05.155 [main] DEBUG dev.mars.peegeeq.db.PeeGeeQManager - Scheduled executor terminated gracefully
2025-07-15 18:28:05.155 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - PeeGeeQ Manager stopped successfully
2025-07-15 18:28:05.159 [main] DEBUG d.m.p.db.config.PeeGeeQConfiguration - Loaded properties from: /peegeeq-default.properties
2025-07-15 18:28:05.159 [main] INFO  d.m.p.db.config.PeeGeeQConfiguration - Configuration validation passed
2025-07-15 18:28:05.159 [main] INFO  d.m.p.db.config.PeeGeeQConfiguration - Loaded PeeGeeQ configuration for profile: default
2025-07-15 18:28:05.160 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Initializing PeeGeeQ Manager with profile: default
2025-07-15 18:28:05.160 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Starting...
2025-07-15 18:28:05.178 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-5 - Added connection org.postgresql.jdbc.PgConnection@d5d5353
2025-07-15 18:28:05.178 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Start completed.
2025-07-15 18:28:05.178 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: database
2025-07-15 18:28:05.178 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: outbox-queue
2025-07-15 18:28:05.178 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: native-queue
2025-07-15 18:28:05.178 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: dead-letter-queue
2025-07-15 18:28:05.178 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: memory
2025-07-15 18:28:05.178 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: disk-space
2025-07-15 18:28:05.178 [main] INFO  d.m.p.d.r.CircuitBreakerManager - Circuit breaker manager initialized with config: dev.mars.peegeeq.db.config.PeeGeeQConfiguration$CircuitBreakerConfig@237f7970
2025-07-15 18:28:05.179 [main] INFO  d.m.p.d.r.BackpressureManager - Backpressure manager initialized with max concurrent operations: 50, timeout: PT30S
2025-07-15 18:28:05.179 [main] INFO  d.m.p.db.metrics.PeeGeeQMetrics - PeeGeeQ metrics registered for instance: peegeeq-default
2025-07-15 18:28:05.179 [main] INFO  d.m.p.d.p.PgConnectionProvider - Initialized PgConnectionProvider
2025-07-15 18:28:05.179 [main] INFO  d.m.p.db.provider.PgMetricsProvider - Initialized PgMetricsProvider with instance ID: peegeeq-default
2025-07-15 18:28:05.179 [main] INFO  d.m.p.db.provider.PgDatabaseService - Initialized PgDatabaseService
2025-07-15 18:28:05.179 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Registered factory creator for type: native
2025-07-15 18:28:05.179 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Registered factory creator for type: outbox
2025-07-15 18:28:05.179 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Registered built-in factory types: native, outbox
2025-07-15 18:28:05.179 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Initialized PgQueueFactoryProvider with 2 factory types
2025-07-15 18:28:05.179 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - PeeGeeQ Manager initialized successfully
2025-07-15 18:28:05.179 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Starting PeeGeeQ Manager...
2025-07-15 18:28:05.179 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Running database migrations...
2025-07-15 18:28:05.179 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Starting database migration process
2025-07-15 18:28:05.183 [main] DEBUG d.m.p.d.m.SchemaMigrationManager - Loaded migration script: V001
2025-07-15 18:28:05.183 [main] DEBUG d.m.p.d.m.SchemaMigrationManager - Loaded migration script: V002
2025-07-15 18:28:05.183 [main] DEBUG d.m.p.d.m.SchemaMigrationManager - Loaded migration script: V003
2025-07-15 18:28:05.185 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Found 0 pending migrations
2025-07-15 18:28:05.185 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Migration process completed. Applied 0 migrations
2025-07-15 18:28:05.187 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Applied 0 database migrations
2025-07-15 18:28:05.188 [main] INFO  d.m.p.db.health.HealthCheckManager - Health check manager started with interval: PT30S
2025-07-15 18:28:05.188 [peegeeq-health-check] DEBUG d.m.p.db.health.HealthCheckManager - Performing health checks
2025-07-15 18:28:05.188 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Started metrics collection with interval: PT1M
2025-07-15 18:28:05.188 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Started background maintenance tasks
2025-07-15 18:28:05.188 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - PeeGeeQ Manager started successfully
2025-07-15 18:28:05.188 [main] INFO  d.m.p.b.BiTemporalEventStoreFactory - Creating bi-temporal event store for payload type: OrderEvent
2025-07-15 18:28:05.188 [main] INFO  d.m.p.b.PgBiTemporalEventStore - Created bi-temporal event store for payload type: OrderEvent
2025-07-15 18:28:05.189 [main] INFO  d.m.p.e.BiTemporalEventStoreExample - Starting Bi-Temporal Event Store Example
2025-07-15 18:28:05.190 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
2025-07-15 18:28:05.257 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: 531adc70c8c759928b94dec4bf1013a99f5c2be5f493020feccd0d9b77820a04
2025-07-15 18:28:06.403 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT1.2137464S
2025-07-15 18:28:06.403 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:54335/peegeeq_test?loggerLevel=OFF)
2025-07-15 18:28:06.403 [main] INFO  d.m.p.e.BiTemporalEventStoreExample - PostgreSQL container started on port: 54335
2025-07-15 18:28:06.404 [main] DEBUG d.m.p.db.config.PeeGeeQConfiguration - Loaded properties from: /peegeeq-default.properties
2025-07-15 18:28:06.404 [main] INFO  d.m.p.db.config.PeeGeeQConfiguration - Configuration validation passed
2025-07-15 18:28:06.405 [main] INFO  d.m.p.db.config.PeeGeeQConfiguration - Loaded PeeGeeQ configuration for profile: default
2025-07-15 18:28:06.405 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Initializing PeeGeeQ Manager with profile: default
2025-07-15 18:28:06.405 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Starting...
2025-07-15 18:28:06.423 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-6 - Added connection org.postgresql.jdbc.PgConnection@4f89331f
2025-07-15 18:28:06.423 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Start completed.
2025-07-15 18:28:06.423 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: database
2025-07-15 18:28:06.423 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: outbox-queue
2025-07-15 18:28:06.423 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: native-queue
2025-07-15 18:28:06.423 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: dead-letter-queue
2025-07-15 18:28:06.423 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: memory
2025-07-15 18:28:06.423 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: disk-space
2025-07-15 18:28:06.423 [main] INFO  d.m.p.d.r.CircuitBreakerManager - Circuit breaker manager initialized with config: dev.mars.peegeeq.db.config.PeeGeeQConfiguration$CircuitBreakerConfig@38ed139b
2025-07-15 18:28:06.423 [main] INFO  d.m.p.d.r.BackpressureManager - Backpressure manager initialized with max concurrent operations: 50, timeout: PT30S
2025-07-15 18:28:06.424 [main] INFO  d.m.p.db.metrics.PeeGeeQMetrics - PeeGeeQ metrics registered for instance: peegeeq-default
2025-07-15 18:28:06.424 [main] INFO  d.m.p.d.p.PgConnectionProvider - Initialized PgConnectionProvider
2025-07-15 18:28:06.424 [main] INFO  d.m.p.db.provider.PgMetricsProvider - Initialized PgMetricsProvider with instance ID: peegeeq-default
2025-07-15 18:28:06.424 [main] INFO  d.m.p.db.provider.PgDatabaseService - Initialized PgDatabaseService
2025-07-15 18:28:06.424 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Registered factory creator for type: native
2025-07-15 18:28:06.424 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Registered factory creator for type: outbox
2025-07-15 18:28:06.424 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Registered built-in factory types: native, outbox
2025-07-15 18:28:06.424 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Initialized PgQueueFactoryProvider with 2 factory types
2025-07-15 18:28:06.424 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - PeeGeeQ Manager initialized successfully
2025-07-15 18:28:06.424 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Starting PeeGeeQ Manager...
2025-07-15 18:28:06.424 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Running database migrations...
2025-07-15 18:28:06.424 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Starting database migration process
2025-07-15 18:28:06.430 [main] DEBUG d.m.p.d.m.SchemaMigrationManager - Loaded migration script: V001
2025-07-15 18:28:06.430 [main] DEBUG d.m.p.d.m.SchemaMigrationManager - Loaded migration script: V002
2025-07-15 18:28:06.431 [main] DEBUG d.m.p.d.m.SchemaMigrationManager - Loaded migration script: V003
2025-07-15 18:28:06.432 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Found 3 pending migrations
2025-07-15 18:28:06.448 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Successfully applied migration: V001
2025-07-15 18:28:06.452 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Successfully applied migration: V002
2025-07-15 18:28:06.461 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Successfully applied migration: V003
2025-07-15 18:28:06.461 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Migration process completed. Applied 3 migrations
2025-07-15 18:28:06.464 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Applied 3 database migrations
2025-07-15 18:28:06.465 [main] INFO  d.m.p.db.health.HealthCheckManager - Health check manager started with interval: PT30S
2025-07-15 18:28:06.465 [peegeeq-health-check] DEBUG d.m.p.db.health.HealthCheckManager - Performing health checks
2025-07-15 18:28:06.465 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Started metrics collection with interval: PT1M
2025-07-15 18:28:06.465 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Started background maintenance tasks
2025-07-15 18:28:06.465 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - PeeGeeQ Manager started successfully
2025-07-15 18:28:06.465 [main] INFO  d.m.p.e.BiTemporalEventStoreExample - PeeGeeQ Manager started successfully
2025-07-15 18:28:06.465 [main] INFO  d.m.p.b.BiTemporalEventStoreFactory - Creating bi-temporal event store for payload type: OrderEvent
2025-07-15 18:28:06.465 [main] INFO  d.m.p.b.PgBiTemporalEventStore - Created bi-temporal event store for payload type: OrderEvent
2025-07-15 18:28:06.466 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample - === Bi-Temporal Event Store Example ===
2025-07-15 18:28:06.466 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample - 
1. Appending initial events...
2025-07-15 18:28:06.472 [ForkJoinPool.commonPool-worker-1] DEBUG d.m.p.b.PgBiTemporalEventStore - Successfully appended event: fa7d7e28-92e2-46d4-bf5f-467dff454cd9 of type: OrderCreated
2025-07-15 18:28:06.477 [ForkJoinPool.commonPool-worker-1] DEBUG d.m.p.b.PgBiTemporalEventStore - Successfully appended event: a9b48148-9ce6-4f84-b863-829daa996d02 of type: OrderCreated
2025-07-15 18:28:06.477 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample - Created event 1: fa7d7e28-92e2-46d4-bf5f-467dff454cd9
2025-07-15 18:28:06.477 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample - Created event 2: a9b48148-9ce6-4f84-b863-829daa996d02
2025-07-15 18:28:06.477 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample - 
2. Querying all events...
2025-07-15 18:28:06.483 [ForkJoinPool.commonPool-worker-1] DEBUG d.m.p.b.PgBiTemporalEventStore - Query returned 2 events
2025-07-15 18:28:06.483 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample - Found 2 events:
2025-07-15 18:28:06.484 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample -   Event: fa7d7e28-92e2-46d4-bf5f-467dff454cd9 - OrderCreated - OrderEvent{orderId='ORDER-001', customerId='CUST-123', amount=99.99, status='CREATED'}
2025-07-15 18:28:06.484 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample -   Event: a9b48148-9ce6-4f84-b863-829daa996d02 - OrderCreated - OrderEvent{orderId='ORDER-002', customerId='CUST-456', amount=149.99, status='CREATED'}
2025-07-15 18:28:06.484 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample - 
3. Querying by event type...
2025-07-15 18:28:06.488 [ForkJoinPool.commonPool-worker-1] DEBUG d.m.p.b.PgBiTemporalEventStore - Query returned 2 events
2025-07-15 18:28:06.488 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample - Found 2 OrderCreated events
2025-07-15 18:28:06.488 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample - 
4. Querying by aggregate...
2025-07-15 18:28:06.491 [ForkJoinPool.commonPool-worker-1] DEBUG d.m.p.b.PgBiTemporalEventStore - Query returned 1 events
2025-07-15 18:28:06.491 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample - Found 1 events for ORDER-001
2025-07-15 18:28:06.491 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample - 
5. Adding correction event...
2025-07-15 18:28:06.497 [ForkJoinPool.commonPool-worker-1] DEBUG d.m.p.b.PgBiTemporalEventStore - Successfully appended correction event: 2f49df5b-d3f0-41d6-bdf0-8fdd85daf815 for original: fa7d7e28-92e2-46d4-bf5f-467dff454cd9
2025-07-15 18:28:06.498 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample - Created correction event: 2f49df5b-d3f0-41d6-bdf0-8fdd85daf815
2025-07-15 18:28:06.498 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample - 
6. Getting all versions of ORDER-001 event...
2025-07-15 18:28:06.500 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample - Found 2 versions:
2025-07-15 18:28:06.500 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample -   Version 1: 99.99 - Correction: false
2025-07-15 18:28:06.500 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample -   Version 2: 89.99 - Correction: true
2025-07-15 18:28:06.500 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample - 
7. Point-in-time query (before correction)...
2025-07-15 18:28:06.502 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample - Event before correction: fa7d7e28-92e2-46d4-bf5f-467dff454cd9 (amount: 99.99)
2025-07-15 18:28:06.502 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample - 
8. Temporal range query...
2025-07-15 18:28:06.506 [ForkJoinPool.commonPool-worker-1] DEBUG d.m.p.b.PgBiTemporalEventStore - Query returned 3 events
2025-07-15 18:28:06.506 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample - Found 3 events in time range:
2025-07-15 18:28:06.506 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample -   Event: ORDER-001 at 2025-07-15T09:28:06.466421Z
2025-07-15 18:28:06.506 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample -   Event: ORDER-001 at 2025-07-15T09:28:06.466421Z
2025-07-15 18:28:06.506 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample -   Event: ORDER-002 at 2025-07-15T09:38:06.466421Z
2025-07-15 18:28:06.507 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample - 
9. Getting event store statistics...
2025-07-15 18:28:06.509 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample - Event Store Statistics:
2025-07-15 18:28:06.509 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample -   Total events: 3
2025-07-15 18:28:06.509 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample -   Total corrections: 1
2025-07-15 18:28:06.509 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample -   Event counts by type: {}
2025-07-15 18:28:06.509 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample -   Oldest event time: 2025-07-15T09:28:06.466421Z
2025-07-15 18:28:06.509 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample -   Newest event time: 2025-07-15T09:38:06.466421Z
2025-07-15 18:28:06.509 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample -   Storage size: 0 bytes
2025-07-15 18:28:06.510 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample - 
=== Bi-Temporal Event Store Example Completed Successfully ===
2025-07-15 18:28:06.510 [main] INFO  d.m.p.b.PgBiTemporalEventStore - Closing bi-temporal event store
2025-07-15 18:28:06.510 [main] INFO  d.m.p.b.PgBiTemporalEventStore - Bi-temporal event store closed
2025-07-15 18:28:06.510 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Stopping PeeGeeQ Manager...
2025-07-15 18:28:06.510 [main] INFO  d.m.p.db.health.HealthCheckManager - Health check manager stopped
2025-07-15 18:28:06.510 [main] DEBUG dev.mars.peegeeq.db.PeeGeeQManager - Scheduled executor terminated gracefully
2025-07-15 18:28:06.510 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - PeeGeeQ Manager stopped successfully
2025-07-15 18:28:06.511 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Shutdown initiated...
2025-07-15 18:28:06.522 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Shutdown completed.
2025-07-15 18:28:06.857 [main] INFO  d.m.p.e.BiTemporalEventStoreExample - Bi-Temporal Event Store Example completed
2025-07-15 18:28:06.857 [main] INFO  d.m.p.b.PgBiTemporalEventStore - Closing bi-temporal event store
2025-07-15 18:28:06.858 [main] INFO  d.m.p.b.PgBiTemporalEventStore - Bi-temporal event store closed
2025-07-15 18:28:06.858 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Stopping PeeGeeQ Manager...
2025-07-15 18:28:06.858 [main] INFO  d.m.p.db.health.HealthCheckManager - Health check manager stopped
2025-07-15 18:28:06.858 [main] DEBUG dev.mars.peegeeq.db.PeeGeeQManager - Scheduled executor terminated gracefully
2025-07-15 18:28:06.859 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - PeeGeeQ Manager stopped successfully
2025-07-15 18:28:47.068 [main] INFO  o.t.utility.ImageNameSubstitutor - Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2025-07-15 18:28:47.289 [main] INFO  o.t.d.DockerClientProviderStrategy - Loaded org.testcontainers.dockerclient.NpipeSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2025-07-15 18:28:47.528 [main] INFO  o.t.d.DockerClientProviderStrategy - Found Docker environment with local Npipe socket (npipe:////./pipe/docker_engine)
2025-07-15 18:28:47.529 [main] INFO  o.testcontainers.DockerClientFactory - Docker host IP address is localhost
2025-07-15 18:28:47.553 [main] INFO  o.testcontainers.DockerClientFactory - Connected to docker: 
  Server Version: 28.3.0
  API Version: 1.51
  Operating System: Docker Desktop
  Total Memory: 15905 MB
2025-07-15 18:28:47.583 [main] INFO  tc.testcontainers/ryuk:0.5.1 - Creating container for image: testcontainers/ryuk:0.5.1
2025-07-15 18:28:47.847 [main] INFO  tc.testcontainers/ryuk:0.5.1 - Container testcontainers/ryuk:0.5.1 is starting: 3bd34ec381075ecbb1745bea3ef261dc9199f01962f35ebf30ef4362f7159cb7
2025-07-15 18:28:48.200 [main] INFO  tc.testcontainers/ryuk:0.5.1 - Container testcontainers/ryuk:0.5.1 started in PT0.6385537S
2025-07-15 18:28:48.210 [main] INFO  o.t.utility.RyukResourceReaper - Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2025-07-15 18:28:48.210 [main] INFO  o.testcontainers.DockerClientFactory - Checking the system...
2025-07-15 18:28:48.211 [main] INFO  o.testcontainers.DockerClientFactory - ✔︎ Docker server version should be at least 1.6.0
2025-07-15 18:28:48.211 [main] INFO  tc.postgres:15.13-alpine3.20 - Creating container for image: postgres:15.13-alpine3.20
2025-07-15 18:28:48.257 [main] INFO  tc.postgres:15.13-alpine3.20 - Container postgres:15.13-alpine3.20 is starting: b312890ba3258c35eedae2a48f5619e1cf9de17707343d4ab16fd7c52a95f931
2025-07-15 18:28:49.604 [main] INFO  tc.postgres:15.13-alpine3.20 - Container postgres:15.13-alpine3.20 started in PT1.3928411S
2025-07-15 18:28:49.606 [main] INFO  tc.postgres:15.13-alpine3.20 - Container is started (JDBC URL: jdbc:postgresql://localhost:54352/peegeeq_test?loggerLevel=OFF)
2025-07-15 18:28:49.630 [main] DEBUG d.m.p.db.config.PeeGeeQConfiguration - Loaded properties from: /peegeeq-default.properties
2025-07-15 18:28:49.630 [main] INFO  d.m.p.db.config.PeeGeeQConfiguration - Configuration validation passed
2025-07-15 18:28:49.631 [main] INFO  d.m.p.db.config.PeeGeeQConfiguration - Loaded PeeGeeQ configuration for profile: default
2025-07-15 18:28:49.760 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Initializing PeeGeeQ Manager with profile: default
2025-07-15 18:28:49.774 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-07-15 18:28:49.943 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@20576557
2025-07-15 18:28:49.946 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-07-15 18:28:49.952 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: database
2025-07-15 18:28:49.953 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: outbox-queue
2025-07-15 18:28:49.954 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: native-queue
2025-07-15 18:28:49.954 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: dead-letter-queue
2025-07-15 18:28:49.955 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: memory
2025-07-15 18:28:49.955 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: disk-space
2025-07-15 18:28:49.971 [main] INFO  d.m.p.d.r.CircuitBreakerManager - Circuit breaker manager initialized with config: dev.mars.peegeeq.db.config.PeeGeeQConfiguration$CircuitBreakerConfig@29a1505c
2025-07-15 18:28:49.972 [main] INFO  d.m.p.d.r.BackpressureManager - Backpressure manager initialized with max concurrent operations: 50, timeout: PT30S
2025-07-15 18:28:49.995 [main] INFO  d.m.p.db.metrics.PeeGeeQMetrics - PeeGeeQ metrics registered for instance: peegeeq-default
2025-07-15 18:28:49.996 [main] INFO  d.m.p.d.p.PgConnectionProvider - Initialized PgConnectionProvider
2025-07-15 18:28:49.997 [main] INFO  d.m.p.db.provider.PgMetricsProvider - Initialized PgMetricsProvider with instance ID: peegeeq-default
2025-07-15 18:28:49.997 [main] INFO  d.m.p.db.provider.PgDatabaseService - Initialized PgDatabaseService
2025-07-15 18:28:49.998 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Registered factory creator for type: native
2025-07-15 18:28:49.999 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Registered factory creator for type: outbox
2025-07-15 18:28:49.999 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Registered built-in factory types: native, outbox
2025-07-15 18:28:49.999 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Initialized PgQueueFactoryProvider with 2 factory types
2025-07-15 18:28:49.999 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - PeeGeeQ Manager initialized successfully
2025-07-15 18:28:49.999 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Starting PeeGeeQ Manager...
2025-07-15 18:28:49.999 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Running database migrations...
2025-07-15 18:28:49.999 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Starting database migration process
2025-07-15 18:28:50.017 [main] DEBUG d.m.p.d.m.SchemaMigrationManager - Loaded migration script: V001
2025-07-15 18:28:50.018 [main] DEBUG d.m.p.d.m.SchemaMigrationManager - Loaded migration script: V002
2025-07-15 18:28:50.018 [main] DEBUG d.m.p.d.m.SchemaMigrationManager - Loaded migration script: V003
2025-07-15 18:28:50.025 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Found 3 pending migrations
2025-07-15 18:28:50.073 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Successfully applied migration: V001
2025-07-15 18:28:50.081 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Successfully applied migration: V002
2025-07-15 18:28:50.105 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Successfully applied migration: V003
2025-07-15 18:28:50.105 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Migration process completed. Applied 3 migrations
2025-07-15 18:28:50.118 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Applied 3 database migrations
2025-07-15 18:28:50.119 [main] INFO  d.m.p.db.health.HealthCheckManager - Health check manager started with interval: PT30S
2025-07-15 18:28:50.119 [peegeeq-health-check] DEBUG d.m.p.db.health.HealthCheckManager - Performing health checks
2025-07-15 18:28:50.119 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Started metrics collection with interval: PT1M
2025-07-15 18:28:50.121 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Started background maintenance tasks
2025-07-15 18:28:50.121 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - PeeGeeQ Manager started successfully
2025-07-15 18:28:50.123 [main] INFO  d.m.p.b.BiTemporalEventStoreFactory - Creating bi-temporal event store for payload type: OrderEvent
2025-07-15 18:28:50.126 [main] INFO  d.m.p.b.PgBiTemporalEventStore - Created bi-temporal event store for payload type: OrderEvent
2025-07-15 18:28:50.207 [ForkJoinPool.commonPool-worker-1] DEBUG d.m.p.b.PgBiTemporalEventStore - Successfully appended event: 70f549c3-e058-4931-b15f-6bead6e50483 of type: OrderCreated
2025-07-15 18:28:50.280 [ForkJoinPool.commonPool-worker-1] DEBUG d.m.p.b.PgBiTemporalEventStore - Query returned 1 events
2025-07-15 18:28:50.284 [main] INFO  d.m.p.b.PgBiTemporalEventStore - Closing bi-temporal event store
2025-07-15 18:28:50.284 [main] INFO  d.m.p.b.PgBiTemporalEventStore - Bi-temporal event store closed
2025-07-15 18:28:50.284 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Stopping PeeGeeQ Manager...
2025-07-15 18:28:50.285 [main] INFO  d.m.p.db.health.HealthCheckManager - Health check manager stopped
2025-07-15 18:28:50.285 [main] DEBUG dev.mars.peegeeq.db.PeeGeeQManager - Scheduled executor terminated gracefully
2025-07-15 18:28:50.285 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - PeeGeeQ Manager stopped successfully
2025-07-15 18:28:50.303 [main] DEBUG d.m.p.db.config.PeeGeeQConfiguration - Loaded properties from: /peegeeq-default.properties
2025-07-15 18:28:50.303 [main] INFO  d.m.p.db.config.PeeGeeQConfiguration - Configuration validation passed
2025-07-15 18:28:50.303 [main] INFO  d.m.p.db.config.PeeGeeQConfiguration - Loaded PeeGeeQ configuration for profile: default
2025-07-15 18:28:50.304 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Initializing PeeGeeQ Manager with profile: default
2025-07-15 18:28:50.304 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2025-07-15 18:28:50.328 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@56da7487
2025-07-15 18:28:50.328 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2025-07-15 18:28:50.328 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: database
2025-07-15 18:28:50.328 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: outbox-queue
2025-07-15 18:28:50.329 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: native-queue
2025-07-15 18:28:50.329 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: dead-letter-queue
2025-07-15 18:28:50.329 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: memory
2025-07-15 18:28:50.329 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: disk-space
2025-07-15 18:28:50.329 [main] INFO  d.m.p.d.r.CircuitBreakerManager - Circuit breaker manager initialized with config: dev.mars.peegeeq.db.config.PeeGeeQConfiguration$CircuitBreakerConfig@fc807c1
2025-07-15 18:28:50.329 [main] INFO  d.m.p.d.r.BackpressureManager - Backpressure manager initialized with max concurrent operations: 50, timeout: PT30S
2025-07-15 18:28:50.329 [main] INFO  d.m.p.db.metrics.PeeGeeQMetrics - PeeGeeQ metrics registered for instance: peegeeq-default
2025-07-15 18:28:50.329 [main] INFO  d.m.p.d.p.PgConnectionProvider - Initialized PgConnectionProvider
2025-07-15 18:28:50.329 [main] INFO  d.m.p.db.provider.PgMetricsProvider - Initialized PgMetricsProvider with instance ID: peegeeq-default
2025-07-15 18:28:50.329 [main] INFO  d.m.p.db.provider.PgDatabaseService - Initialized PgDatabaseService
2025-07-15 18:28:50.329 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Registered factory creator for type: native
2025-07-15 18:28:50.329 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Registered factory creator for type: outbox
2025-07-15 18:28:50.329 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Registered built-in factory types: native, outbox
2025-07-15 18:28:50.330 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Initialized PgQueueFactoryProvider with 2 factory types
2025-07-15 18:28:50.330 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - PeeGeeQ Manager initialized successfully
2025-07-15 18:28:50.330 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Starting PeeGeeQ Manager...
2025-07-15 18:28:50.330 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Running database migrations...
2025-07-15 18:28:50.330 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Starting database migration process
2025-07-15 18:28:50.335 [main] DEBUG d.m.p.d.m.SchemaMigrationManager - Loaded migration script: V001
2025-07-15 18:28:50.336 [main] DEBUG d.m.p.d.m.SchemaMigrationManager - Loaded migration script: V002
2025-07-15 18:28:50.338 [main] DEBUG d.m.p.d.m.SchemaMigrationManager - Loaded migration script: V003
2025-07-15 18:28:50.342 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Found 0 pending migrations
2025-07-15 18:28:50.342 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Migration process completed. Applied 0 migrations
2025-07-15 18:28:50.344 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Applied 0 database migrations
2025-07-15 18:28:50.345 [main] INFO  d.m.p.db.health.HealthCheckManager - Health check manager started with interval: PT30S
2025-07-15 18:28:50.345 [peegeeq-health-check] DEBUG d.m.p.db.health.HealthCheckManager - Performing health checks
2025-07-15 18:28:50.345 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Started metrics collection with interval: PT1M
2025-07-15 18:28:50.345 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Started background maintenance tasks
2025-07-15 18:28:50.346 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - PeeGeeQ Manager started successfully
2025-07-15 18:28:50.346 [main] INFO  d.m.p.b.BiTemporalEventStoreFactory - Creating bi-temporal event store for payload type: OrderEvent
2025-07-15 18:28:50.346 [main] INFO  d.m.p.b.PgBiTemporalEventStore - Created bi-temporal event store for payload type: OrderEvent
2025-07-15 18:28:50.350 [main] INFO  d.m.p.b.PgBiTemporalEventStore - Closing bi-temporal event store
2025-07-15 18:28:50.350 [main] INFO  d.m.p.b.PgBiTemporalEventStore - Bi-temporal event store closed
2025-07-15 18:28:50.350 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Stopping PeeGeeQ Manager...
2025-07-15 18:28:50.355 [main] INFO  d.m.p.db.health.HealthCheckManager - Health check manager stopped
2025-07-15 18:28:50.356 [main] DEBUG dev.mars.peegeeq.db.PeeGeeQManager - Scheduled executor terminated gracefully
2025-07-15 18:28:50.356 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - PeeGeeQ Manager stopped successfully
2025-07-15 18:28:50.358 [main] DEBUG d.m.p.db.config.PeeGeeQConfiguration - Loaded properties from: /peegeeq-default.properties
2025-07-15 18:28:50.358 [main] INFO  d.m.p.db.config.PeeGeeQConfiguration - Configuration validation passed
2025-07-15 18:28:50.358 [main] INFO  d.m.p.db.config.PeeGeeQConfiguration - Loaded PeeGeeQ configuration for profile: default
2025-07-15 18:28:50.359 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Initializing PeeGeeQ Manager with profile: default
2025-07-15 18:28:50.359 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Starting...
2025-07-15 18:28:50.379 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-3 - Added connection org.postgresql.jdbc.PgConnection@3dfa819
2025-07-15 18:28:50.380 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Start completed.
2025-07-15 18:28:50.380 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: database
2025-07-15 18:28:50.380 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: outbox-queue
2025-07-15 18:28:50.380 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: native-queue
2025-07-15 18:28:50.380 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: dead-letter-queue
2025-07-15 18:28:50.380 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: memory
2025-07-15 18:28:50.380 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: disk-space
2025-07-15 18:28:50.380 [main] INFO  d.m.p.d.r.CircuitBreakerManager - Circuit breaker manager initialized with config: dev.mars.peegeeq.db.config.PeeGeeQConfiguration$CircuitBreakerConfig@517a2b0
2025-07-15 18:28:50.380 [main] INFO  d.m.p.d.r.BackpressureManager - Backpressure manager initialized with max concurrent operations: 50, timeout: PT30S
2025-07-15 18:28:50.380 [main] INFO  d.m.p.db.metrics.PeeGeeQMetrics - PeeGeeQ metrics registered for instance: peegeeq-default
2025-07-15 18:28:50.380 [main] INFO  d.m.p.d.p.PgConnectionProvider - Initialized PgConnectionProvider
2025-07-15 18:28:50.380 [main] INFO  d.m.p.db.provider.PgMetricsProvider - Initialized PgMetricsProvider with instance ID: peegeeq-default
2025-07-15 18:28:50.381 [main] INFO  d.m.p.db.provider.PgDatabaseService - Initialized PgDatabaseService
2025-07-15 18:28:50.381 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Registered factory creator for type: native
2025-07-15 18:28:50.381 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Registered factory creator for type: outbox
2025-07-15 18:28:50.381 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Registered built-in factory types: native, outbox
2025-07-15 18:28:50.381 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Initialized PgQueueFactoryProvider with 2 factory types
2025-07-15 18:28:50.381 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - PeeGeeQ Manager initialized successfully
2025-07-15 18:28:50.381 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Starting PeeGeeQ Manager...
2025-07-15 18:28:50.381 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Running database migrations...
2025-07-15 18:28:50.381 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Starting database migration process
2025-07-15 18:28:50.386 [main] DEBUG d.m.p.d.m.SchemaMigrationManager - Loaded migration script: V001
2025-07-15 18:28:50.387 [main] DEBUG d.m.p.d.m.SchemaMigrationManager - Loaded migration script: V002
2025-07-15 18:28:50.388 [main] DEBUG d.m.p.d.m.SchemaMigrationManager - Loaded migration script: V003
2025-07-15 18:28:50.391 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Found 0 pending migrations
2025-07-15 18:28:50.392 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Migration process completed. Applied 0 migrations
2025-07-15 18:28:50.394 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Applied 0 database migrations
2025-07-15 18:28:50.394 [main] INFO  d.m.p.db.health.HealthCheckManager - Health check manager started with interval: PT30S
2025-07-15 18:28:50.395 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Started metrics collection with interval: PT1M
2025-07-15 18:28:50.400 [peegeeq-health-check] DEBUG d.m.p.db.health.HealthCheckManager - Performing health checks
2025-07-15 18:28:50.400 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Started background maintenance tasks
2025-07-15 18:28:50.401 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - PeeGeeQ Manager started successfully
2025-07-15 18:28:50.401 [main] INFO  d.m.p.b.BiTemporalEventStoreFactory - Creating bi-temporal event store for payload type: OrderEvent
2025-07-15 18:28:50.401 [main] INFO  d.m.p.b.PgBiTemporalEventStore - Created bi-temporal event store for payload type: OrderEvent
2025-07-15 18:28:50.416 [ForkJoinPool.commonPool-worker-1] DEBUG d.m.p.b.PgBiTemporalEventStore - Successfully appended event: 36865d5a-1d98-4025-9141-62efb05f21a8 of type: TemporalTest
2025-07-15 18:28:50.423 [ForkJoinPool.commonPool-worker-1] DEBUG d.m.p.b.PgBiTemporalEventStore - Successfully appended event: f0ad13e6-a0d4-46e0-b599-72dc3879146b of type: TemporalTest
2025-07-15 18:28:50.425 [ForkJoinPool.commonPool-worker-1] DEBUG d.m.p.b.PgBiTemporalEventStore - Successfully appended event: 0922ecbc-44c0-426b-b048-5c4fc2bfc317 of type: TemporalTest
2025-07-15 18:28:50.432 [ForkJoinPool.commonPool-worker-1] DEBUG d.m.p.b.PgBiTemporalEventStore - Query returned 1 events
2025-07-15 18:28:50.433 [main] INFO  d.m.p.b.PgBiTemporalEventStore - Closing bi-temporal event store
2025-07-15 18:28:50.433 [main] INFO  d.m.p.b.PgBiTemporalEventStore - Bi-temporal event store closed
2025-07-15 18:28:50.433 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Stopping PeeGeeQ Manager...
2025-07-15 18:28:50.433 [main] INFO  d.m.p.db.health.HealthCheckManager - Health check manager stopped
2025-07-15 18:28:50.434 [main] DEBUG dev.mars.peegeeq.db.PeeGeeQManager - Scheduled executor terminated gracefully
2025-07-15 18:28:50.434 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - PeeGeeQ Manager stopped successfully
2025-07-15 18:28:50.437 [main] DEBUG d.m.p.db.config.PeeGeeQConfiguration - Loaded properties from: /peegeeq-default.properties
2025-07-15 18:28:50.438 [main] INFO  d.m.p.db.config.PeeGeeQConfiguration - Configuration validation passed
2025-07-15 18:28:50.438 [main] INFO  d.m.p.db.config.PeeGeeQConfiguration - Loaded PeeGeeQ configuration for profile: default
2025-07-15 18:28:50.438 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Initializing PeeGeeQ Manager with profile: default
2025-07-15 18:28:50.438 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Starting...
2025-07-15 18:28:50.456 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-4 - Added connection org.postgresql.jdbc.PgConnection@4e1a46fb
2025-07-15 18:28:50.456 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Start completed.
2025-07-15 18:28:50.456 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: database
2025-07-15 18:28:50.456 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: outbox-queue
2025-07-15 18:28:50.456 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: native-queue
2025-07-15 18:28:50.456 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: dead-letter-queue
2025-07-15 18:28:50.457 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: memory
2025-07-15 18:28:50.457 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: disk-space
2025-07-15 18:28:50.457 [main] INFO  d.m.p.d.r.CircuitBreakerManager - Circuit breaker manager initialized with config: dev.mars.peegeeq.db.config.PeeGeeQConfiguration$CircuitBreakerConfig@7d44a19
2025-07-15 18:28:50.457 [main] INFO  d.m.p.d.r.BackpressureManager - Backpressure manager initialized with max concurrent operations: 50, timeout: PT30S
2025-07-15 18:28:50.457 [main] INFO  d.m.p.db.metrics.PeeGeeQMetrics - PeeGeeQ metrics registered for instance: peegeeq-default
2025-07-15 18:28:50.457 [main] INFO  d.m.p.d.p.PgConnectionProvider - Initialized PgConnectionProvider
2025-07-15 18:28:50.457 [main] INFO  d.m.p.db.provider.PgMetricsProvider - Initialized PgMetricsProvider with instance ID: peegeeq-default
2025-07-15 18:28:50.457 [main] INFO  d.m.p.db.provider.PgDatabaseService - Initialized PgDatabaseService
2025-07-15 18:28:50.457 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Registered factory creator for type: native
2025-07-15 18:28:50.457 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Registered factory creator for type: outbox
2025-07-15 18:28:50.457 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Registered built-in factory types: native, outbox
2025-07-15 18:28:50.457 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Initialized PgQueueFactoryProvider with 2 factory types
2025-07-15 18:28:50.457 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - PeeGeeQ Manager initialized successfully
2025-07-15 18:28:50.457 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Starting PeeGeeQ Manager...
2025-07-15 18:28:50.457 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Running database migrations...
2025-07-15 18:28:50.457 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Starting database migration process
2025-07-15 18:28:50.461 [main] DEBUG d.m.p.d.m.SchemaMigrationManager - Loaded migration script: V001
2025-07-15 18:28:50.462 [main] DEBUG d.m.p.d.m.SchemaMigrationManager - Loaded migration script: V002
2025-07-15 18:28:50.462 [main] DEBUG d.m.p.d.m.SchemaMigrationManager - Loaded migration script: V003
2025-07-15 18:28:50.464 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Found 0 pending migrations
2025-07-15 18:28:50.465 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Migration process completed. Applied 0 migrations
2025-07-15 18:28:50.466 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Applied 0 database migrations
2025-07-15 18:28:50.466 [main] INFO  d.m.p.db.health.HealthCheckManager - Health check manager started with interval: PT30S
2025-07-15 18:28:50.466 [peegeeq-health-check] DEBUG d.m.p.db.health.HealthCheckManager - Performing health checks
2025-07-15 18:28:50.467 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Started metrics collection with interval: PT1M
2025-07-15 18:28:50.467 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Started background maintenance tasks
2025-07-15 18:28:50.467 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - PeeGeeQ Manager started successfully
2025-07-15 18:28:50.468 [main] INFO  d.m.p.b.BiTemporalEventStoreFactory - Creating bi-temporal event store for payload type: OrderEvent
2025-07-15 18:28:50.468 [main] INFO  d.m.p.b.PgBiTemporalEventStore - Created bi-temporal event store for payload type: OrderEvent
2025-07-15 18:28:50.479 [ForkJoinPool.commonPool-worker-1] DEBUG d.m.p.b.PgBiTemporalEventStore - Successfully appended event: b1c89eea-5b58-43ec-8bdb-b8d3a6d5ed6a of type: OrderCreated
2025-07-15 18:28:50.483 [ForkJoinPool.commonPool-worker-1] DEBUG d.m.p.b.PgBiTemporalEventStore - Successfully appended event: f0c963a4-e7ee-4f9e-a090-4c8cbeae873f of type: OrderCreated
2025-07-15 18:28:50.496 [ForkJoinPool.commonPool-worker-1] DEBUG d.m.p.b.PgBiTemporalEventStore - Query returned 6 events
2025-07-15 18:28:50.502 [ForkJoinPool.commonPool-worker-1] DEBUG d.m.p.b.PgBiTemporalEventStore - Query returned 3 events
2025-07-15 18:28:50.505 [ForkJoinPool.commonPool-worker-1] DEBUG d.m.p.b.PgBiTemporalEventStore - Query returned 1 events
2025-07-15 18:28:50.513 [ForkJoinPool.commonPool-worker-1] DEBUG d.m.p.b.PgBiTemporalEventStore - Successfully appended correction event: 39b75289-cf78-4772-afbf-a257c68b9b2e for original: b1c89eea-5b58-43ec-8bdb-b8d3a6d5ed6a
2025-07-15 18:28:50.527 [main] INFO  d.m.p.b.PgBiTemporalEventStore - Closing bi-temporal event store
2025-07-15 18:28:50.527 [main] INFO  d.m.p.b.PgBiTemporalEventStore - Bi-temporal event store closed
2025-07-15 18:28:50.527 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Stopping PeeGeeQ Manager...
2025-07-15 18:28:50.527 [main] INFO  d.m.p.db.health.HealthCheckManager - Health check manager stopped
2025-07-15 18:28:50.527 [main] DEBUG dev.mars.peegeeq.db.PeeGeeQManager - Scheduled executor terminated gracefully
2025-07-15 18:28:50.528 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - PeeGeeQ Manager stopped successfully
2025-07-15 18:28:50.531 [main] DEBUG d.m.p.db.config.PeeGeeQConfiguration - Loaded properties from: /peegeeq-default.properties
2025-07-15 18:28:50.531 [main] INFO  d.m.p.db.config.PeeGeeQConfiguration - Configuration validation passed
2025-07-15 18:28:50.531 [main] INFO  d.m.p.db.config.PeeGeeQConfiguration - Loaded PeeGeeQ configuration for profile: default
2025-07-15 18:28:50.531 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Initializing PeeGeeQ Manager with profile: default
2025-07-15 18:28:50.531 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Starting...
2025-07-15 18:28:50.550 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-5 - Added connection org.postgresql.jdbc.PgConnection@242b6e1a
2025-07-15 18:28:50.550 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Start completed.
2025-07-15 18:28:50.550 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: database
2025-07-15 18:28:50.550 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: outbox-queue
2025-07-15 18:28:50.550 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: native-queue
2025-07-15 18:28:50.550 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: dead-letter-queue
2025-07-15 18:28:50.550 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: memory
2025-07-15 18:28:50.550 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: disk-space
2025-07-15 18:28:50.550 [main] INFO  d.m.p.d.r.CircuitBreakerManager - Circuit breaker manager initialized with config: dev.mars.peegeeq.db.config.PeeGeeQConfiguration$CircuitBreakerConfig@58f39564
2025-07-15 18:28:50.550 [main] INFO  d.m.p.d.r.BackpressureManager - Backpressure manager initialized with max concurrent operations: 50, timeout: PT30S
2025-07-15 18:28:50.550 [main] INFO  d.m.p.db.metrics.PeeGeeQMetrics - PeeGeeQ metrics registered for instance: peegeeq-default
2025-07-15 18:28:50.550 [main] INFO  d.m.p.d.p.PgConnectionProvider - Initialized PgConnectionProvider
2025-07-15 18:28:50.550 [main] INFO  d.m.p.db.provider.PgMetricsProvider - Initialized PgMetricsProvider with instance ID: peegeeq-default
2025-07-15 18:28:50.550 [main] INFO  d.m.p.db.provider.PgDatabaseService - Initialized PgDatabaseService
2025-07-15 18:28:50.550 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Registered factory creator for type: native
2025-07-15 18:28:50.550 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Registered factory creator for type: outbox
2025-07-15 18:28:50.550 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Registered built-in factory types: native, outbox
2025-07-15 18:28:50.550 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Initialized PgQueueFactoryProvider with 2 factory types
2025-07-15 18:28:50.550 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - PeeGeeQ Manager initialized successfully
2025-07-15 18:28:50.550 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Starting PeeGeeQ Manager...
2025-07-15 18:28:50.550 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Running database migrations...
2025-07-15 18:28:50.550 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Starting database migration process
2025-07-15 18:28:50.554 [main] DEBUG d.m.p.d.m.SchemaMigrationManager - Loaded migration script: V001
2025-07-15 18:28:50.554 [main] DEBUG d.m.p.d.m.SchemaMigrationManager - Loaded migration script: V002
2025-07-15 18:28:50.555 [main] DEBUG d.m.p.d.m.SchemaMigrationManager - Loaded migration script: V003
2025-07-15 18:28:50.558 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Found 0 pending migrations
2025-07-15 18:28:50.558 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Migration process completed. Applied 0 migrations
2025-07-15 18:28:50.559 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Applied 0 database migrations
2025-07-15 18:28:50.559 [main] INFO  d.m.p.db.health.HealthCheckManager - Health check manager started with interval: PT30S
2025-07-15 18:28:50.559 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Started metrics collection with interval: PT1M
2025-07-15 18:28:50.559 [peegeeq-health-check] DEBUG d.m.p.db.health.HealthCheckManager - Performing health checks
2025-07-15 18:28:50.559 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Started background maintenance tasks
2025-07-15 18:28:50.559 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - PeeGeeQ Manager started successfully
2025-07-15 18:28:50.559 [main] INFO  d.m.p.b.BiTemporalEventStoreFactory - Creating bi-temporal event store for payload type: OrderEvent
2025-07-15 18:28:50.560 [main] INFO  d.m.p.b.PgBiTemporalEventStore - Created bi-temporal event store for payload type: OrderEvent
2025-07-15 18:28:50.561 [main] INFO  d.m.p.e.BiTemporalEventStoreExample - Starting Bi-Temporal Event Store Example
2025-07-15 18:28:50.562 [main] INFO  tc.postgres:15 - Creating container for image: postgres:15
2025-07-15 18:28:50.631 [main] INFO  tc.postgres:15 - Container postgres:15 is starting: e4555db16be77039843b555138a6b673e2e261ee608eefeebf82fc5753555a4d
2025-07-15 18:28:51.786 [main] INFO  tc.postgres:15 - Container postgres:15 started in PT1.224739S
2025-07-15 18:28:51.787 [main] INFO  tc.postgres:15 - Container is started (JDBC URL: jdbc:postgresql://localhost:54378/peegeeq_test?loggerLevel=OFF)
2025-07-15 18:28:51.787 [main] INFO  d.m.p.e.BiTemporalEventStoreExample - PostgreSQL container started on port: 54378
2025-07-15 18:28:51.789 [main] DEBUG d.m.p.db.config.PeeGeeQConfiguration - Loaded properties from: /peegeeq-default.properties
2025-07-15 18:28:51.789 [main] INFO  d.m.p.db.config.PeeGeeQConfiguration - Configuration validation passed
2025-07-15 18:28:51.789 [main] INFO  d.m.p.db.config.PeeGeeQConfiguration - Loaded PeeGeeQ configuration for profile: default
2025-07-15 18:28:51.789 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Initializing PeeGeeQ Manager with profile: default
2025-07-15 18:28:51.789 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Starting...
2025-07-15 18:28:51.812 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-6 - Added connection org.postgresql.jdbc.PgConnection@618ff5c2
2025-07-15 18:28:51.813 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Start completed.
2025-07-15 18:28:51.813 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: database
2025-07-15 18:28:51.813 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: outbox-queue
2025-07-15 18:28:51.813 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: native-queue
2025-07-15 18:28:51.813 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: dead-letter-queue
2025-07-15 18:28:51.813 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: memory
2025-07-15 18:28:51.813 [main] INFO  d.m.p.db.health.HealthCheckManager - Registered health check: disk-space
2025-07-15 18:28:51.813 [main] INFO  d.m.p.d.r.CircuitBreakerManager - Circuit breaker manager initialized with config: dev.mars.peegeeq.db.config.PeeGeeQConfiguration$CircuitBreakerConfig@a5272be
2025-07-15 18:28:51.813 [main] INFO  d.m.p.d.r.BackpressureManager - Backpressure manager initialized with max concurrent operations: 50, timeout: PT30S
2025-07-15 18:28:51.814 [main] INFO  d.m.p.db.metrics.PeeGeeQMetrics - PeeGeeQ metrics registered for instance: peegeeq-default
2025-07-15 18:28:51.814 [main] INFO  d.m.p.d.p.PgConnectionProvider - Initialized PgConnectionProvider
2025-07-15 18:28:51.814 [main] INFO  d.m.p.db.provider.PgMetricsProvider - Initialized PgMetricsProvider with instance ID: peegeeq-default
2025-07-15 18:28:51.814 [main] INFO  d.m.p.db.provider.PgDatabaseService - Initialized PgDatabaseService
2025-07-15 18:28:51.814 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Registered factory creator for type: native
2025-07-15 18:28:51.814 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Registered factory creator for type: outbox
2025-07-15 18:28:51.814 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Registered built-in factory types: native, outbox
2025-07-15 18:28:51.814 [main] INFO  d.m.p.d.p.PgQueueFactoryProvider - Initialized PgQueueFactoryProvider with 2 factory types
2025-07-15 18:28:51.814 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - PeeGeeQ Manager initialized successfully
2025-07-15 18:28:51.814 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Starting PeeGeeQ Manager...
2025-07-15 18:28:51.814 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Running database migrations...
2025-07-15 18:28:51.814 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Starting database migration process
2025-07-15 18:28:51.822 [main] DEBUG d.m.p.d.m.SchemaMigrationManager - Loaded migration script: V001
2025-07-15 18:28:51.823 [main] DEBUG d.m.p.d.m.SchemaMigrationManager - Loaded migration script: V002
2025-07-15 18:28:51.823 [main] DEBUG d.m.p.d.m.SchemaMigrationManager - Loaded migration script: V003
2025-07-15 18:28:51.826 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Found 3 pending migrations
2025-07-15 18:28:51.852 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Successfully applied migration: V001
2025-07-15 18:28:51.858 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Successfully applied migration: V002
2025-07-15 18:28:51.876 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Successfully applied migration: V003
2025-07-15 18:28:51.876 [main] INFO  d.m.p.d.m.SchemaMigrationManager - Migration process completed. Applied 3 migrations
2025-07-15 18:28:51.880 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Applied 3 database migrations
2025-07-15 18:28:51.880 [main] INFO  d.m.p.db.health.HealthCheckManager - Health check manager started with interval: PT30S
2025-07-15 18:28:51.881 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Started metrics collection with interval: PT1M
2025-07-15 18:28:51.881 [peegeeq-health-check] DEBUG d.m.p.db.health.HealthCheckManager - Performing health checks
2025-07-15 18:28:51.881 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Started background maintenance tasks
2025-07-15 18:28:51.881 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - PeeGeeQ Manager started successfully
2025-07-15 18:28:51.881 [main] INFO  d.m.p.e.BiTemporalEventStoreExample - PeeGeeQ Manager started successfully
2025-07-15 18:28:51.881 [main] INFO  d.m.p.b.BiTemporalEventStoreFactory - Creating bi-temporal event store for payload type: OrderEvent
2025-07-15 18:28:51.881 [main] INFO  d.m.p.b.PgBiTemporalEventStore - Created bi-temporal event store for payload type: OrderEvent
2025-07-15 18:28:51.882 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample - === Bi-Temporal Event Store Example ===
2025-07-15 18:28:51.882 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample - 
1. Appending initial events...
2025-07-15 18:28:51.890 [ForkJoinPool.commonPool-worker-1] DEBUG d.m.p.b.PgBiTemporalEventStore - Successfully appended event: cf5f6b81-f632-4275-9471-4fb4783df1b7 of type: OrderCreated
2025-07-15 18:28:51.894 [ForkJoinPool.commonPool-worker-1] DEBUG d.m.p.b.PgBiTemporalEventStore - Successfully appended event: 3a793a19-ca84-4d76-ad53-37d0ece4279d of type: OrderCreated
2025-07-15 18:28:51.895 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample - Created event 1: cf5f6b81-f632-4275-9471-4fb4783df1b7
2025-07-15 18:28:51.895 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample - Created event 2: 3a793a19-ca84-4d76-ad53-37d0ece4279d
2025-07-15 18:28:51.895 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample - 
2. Querying all events...
2025-07-15 18:28:51.901 [ForkJoinPool.commonPool-worker-1] DEBUG d.m.p.b.PgBiTemporalEventStore - Query returned 2 events
2025-07-15 18:28:51.902 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample - Found 2 events:
2025-07-15 18:28:51.902 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample -   Event: cf5f6b81-f632-4275-9471-4fb4783df1b7 - OrderCreated - OrderEvent{orderId='ORDER-001', customerId='CUST-123', amount=99.99, status='CREATED'}
2025-07-15 18:28:51.902 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample -   Event: 3a793a19-ca84-4d76-ad53-37d0ece4279d - OrderCreated - OrderEvent{orderId='ORDER-002', customerId='CUST-456', amount=149.99, status='CREATED'}
2025-07-15 18:28:51.902 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample - 
3. Querying by event type...
2025-07-15 18:28:51.905 [ForkJoinPool.commonPool-worker-1] DEBUG d.m.p.b.PgBiTemporalEventStore - Query returned 2 events
2025-07-15 18:28:51.905 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample - Found 2 OrderCreated events
2025-07-15 18:28:51.905 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample - 
4. Querying by aggregate...
2025-07-15 18:28:51.908 [ForkJoinPool.commonPool-worker-1] DEBUG d.m.p.b.PgBiTemporalEventStore - Query returned 1 events
2025-07-15 18:28:51.908 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample - Found 1 events for ORDER-001
2025-07-15 18:28:51.908 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample - 
5. Adding correction event...
2025-07-15 18:28:51.913 [ForkJoinPool.commonPool-worker-1] DEBUG d.m.p.b.PgBiTemporalEventStore - Successfully appended correction event: 9430e12f-1c3a-40b9-85d0-f3bb81c13e6f for original: cf5f6b81-f632-4275-9471-4fb4783df1b7
2025-07-15 18:28:51.914 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample - Created correction event: 9430e12f-1c3a-40b9-85d0-f3bb81c13e6f
2025-07-15 18:28:51.914 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample - 
6. Getting all versions of ORDER-001 event...
2025-07-15 18:28:51.916 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample - Found 2 versions:
2025-07-15 18:28:51.916 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample -   Version 1: 99.99 - Correction: false
2025-07-15 18:28:51.916 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample -   Version 2: 89.99 - Correction: true
2025-07-15 18:28:51.916 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample - 
7. Point-in-time query (before correction)...
2025-07-15 18:28:51.918 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample - Event before correction: cf5f6b81-f632-4275-9471-4fb4783df1b7 (amount: 99.99)
2025-07-15 18:28:51.919 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample - 
8. Temporal range query...
2025-07-15 18:28:51.921 [ForkJoinPool.commonPool-worker-1] DEBUG d.m.p.b.PgBiTemporalEventStore - Query returned 3 events
2025-07-15 18:28:51.921 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample - Found 3 events in time range:
2025-07-15 18:28:51.921 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample -   Event: ORDER-001 at 2025-07-15T09:28:51.882717Z
2025-07-15 18:28:51.921 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample -   Event: ORDER-001 at 2025-07-15T09:28:51.882717Z
2025-07-15 18:28:51.921 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample -   Event: ORDER-002 at 2025-07-15T09:38:51.882717Z
2025-07-15 18:28:51.922 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample - 
9. Getting event store statistics...
2025-07-15 18:28:51.924 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample - Event Store Statistics:
2025-07-15 18:28:51.924 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample -   Total events: 3
2025-07-15 18:28:51.924 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample -   Total corrections: 1
2025-07-15 18:28:51.924 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample -   Event counts by type: {}
2025-07-15 18:28:51.924 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample -   Oldest event time: 2025-07-15T09:28:51.882717Z
2025-07-15 18:28:51.924 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample -   Newest event time: 2025-07-15T09:38:51.882717Z
2025-07-15 18:28:51.924 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample -   Storage size: 0 bytes
2025-07-15 18:28:51.924 [ForkJoinPool.commonPool-worker-1] INFO  d.m.p.e.BiTemporalEventStoreExample - 
=== Bi-Temporal Event Store Example Completed Successfully ===
2025-07-15 18:28:51.924 [main] INFO  d.m.p.b.PgBiTemporalEventStore - Closing bi-temporal event store
2025-07-15 18:28:51.924 [main] INFO  d.m.p.b.PgBiTemporalEventStore - Bi-temporal event store closed
2025-07-15 18:28:51.924 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Stopping PeeGeeQ Manager...
2025-07-15 18:28:51.925 [main] INFO  d.m.p.db.health.HealthCheckManager - Health check manager stopped
2025-07-15 18:28:51.925 [main] DEBUG dev.mars.peegeeq.db.PeeGeeQManager - Scheduled executor terminated gracefully
2025-07-15 18:28:51.925 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - PeeGeeQ Manager stopped successfully
2025-07-15 18:28:51.925 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Shutdown initiated...
2025-07-15 18:28:51.935 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Shutdown completed.
2025-07-15 18:28:52.248 [main] INFO  d.m.p.e.BiTemporalEventStoreExample - Bi-Temporal Event Store Example completed
2025-07-15 18:28:52.248 [main] INFO  d.m.p.b.PgBiTemporalEventStore - Closing bi-temporal event store
2025-07-15 18:28:52.249 [main] INFO  d.m.p.b.PgBiTemporalEventStore - Bi-temporal event store closed
2025-07-15 18:28:52.249 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - Stopping PeeGeeQ Manager...
2025-07-15 18:28:52.249 [main] INFO  d.m.p.db.health.HealthCheckManager - Health check manager stopped
2025-07-15 18:28:52.250 [main] DEBUG dev.mars.peegeeq.db.PeeGeeQManager - Scheduled executor terminated gracefully
2025-07-15 18:28:52.250 [main] INFO  dev.mars.peegeeq.db.PeeGeeQManager - PeeGeeQ Manager stopped successfully
